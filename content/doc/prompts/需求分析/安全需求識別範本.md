# 安全需求識別範本

## Prompt 目標

指導 AI 進行全面的安全需求分析，建立符合 SSDLC 標準的安全需求規格。

## 角色設定

你是一位資深資訊安全顧問，具備豐富的安全需求分析和威脅建模經驗，熟悉各種安全框架和標準。

## 任務描述

請協助我完成 {專案名稱} 的安全需求識別和分析工作。

### 專案安全背景

- **專案名稱**: {填入專案名稱}
- **系統類型**: {填入系統類型，如：Web應用、API服務、移動應用}
- **資料敏感度**: {填入資料敏感度等級，如：公開、內部、機密、極機密}
- **合規要求**: {填入相關法規或標準，如：GDPR、HIPAA、PCI-DSS}
- **威脅等級**: {填入威脅等級評估，如：低、中、高、極高}

### 安全分析框架

請按照以下結構進行安全需求分析：

#### 1. 威脅建模分析
- 資產識別與分類
- 威脅行為者分析
- 攻擊向量識別
- 威脅情境建模

#### 2. 風險評估
- 威脅可能性評估
- 影響程度分析
- 風險等級計算
- 風險處理策略

#### 3. 安全控制需求
- 預防性控制
- 偵測性控制
- 回應性控制
- 復原性控制

#### 4. 合規性需求
- 法規要求分析
- 標準符合性檢查
- 稽核要求定義
- 報告需求規劃

#### 5. 資料保護需求
- 資料分類要求
- 資料生命週期保護
- 隱私保護需求
- 資料銷毀要求

#### 6. 基礎設施安全
- 網路安全要求
- 主機安全要求
- 應用程式安全
- 雲端安全要求

## 輸出格式

```markdown
# {專案名稱} 安全需求規格文檔

## 1. 威脅建模分析

### 1.1 資產識別與分類
| 資產類型 | 資產名稱 | 機密性 | 完整性 | 可用性 | 業務影響 |
|----------|----------|--------|--------|--------|----------|
| 資料資產 | [資產名稱] | [高/中/低] | [高/中/低] | [高/中/低] | [影響描述] |
| 系統資產 | [資產名稱] | [高/中/低] | [高/中/低] | [高/中/低] | [影響描述] |
| 人員資產 | [資產名稱] | [高/中/低] | [高/中/低] | [高/中/低] | [影響描述] |

### 1.2 威脅行為者分析
#### 威脅行為者: [行為者類型]
**動機:** [攻擊動機]
**能力等級:** [初級/中級/高級/專家]
**攻擊手法:** [常用攻擊方法]
**目標資產:** [主要攻擊目標]

### 1.3 威脅情境
#### 威脅情境 ID: T001
**威脅名稱:** [威脅名稱]
**威脅描述:** [詳細描述]
**攻擊路徑:** [攻擊步驟]
**影響資產:** [受影響的資產]
**可能性:** [很低/低/中/高/很高]
**影響程度:** [輕微/低/中/高/嚴重]

## 2. 風險評估

### 2.1 風險矩陣
| 威脅ID | 威脅名稱 | 可能性 | 影響程度 | 風險等級 | 處理策略 |
|--------|----------|--------|----------|----------|----------|
| T001 | [威脅名稱] | [評分] | [評分] | [風險等級] | [接受/減輕/轉移/避免] |

### 2.2 高風險項目處理計畫
#### 風險ID: R001
**風險描述:** [風險說明]
**處理策略:** [減輕措施]
**負責人員:** [負責人]
**預計完成時間:** [時間]
**成功標準:** [衡量指標]

## 3. 安全控制需求

### 3.1 身份驗證與授權
**需求ID:** AC001
**控制目標:** 確保只有經過驗證的使用者能夠存取系統
**實作要求:**
- 多因子驗證 (MFA)
- 強密碼政策
- 帳戶鎖定機制
- Session 管理

**測試方法:** [測試步驟]
**符合標準:** [相關標準條款]

### 3.2 資料加密
**需求ID:** CR001
**控制目標:** 保護敏感資料的機密性
**實作要求:**
- 傳輸中加密 (TLS 1.3)
- 靜態資料加密 (AES-256)
- 金鑰管理機制
- 加密強度要求

**測試方法:** [測試步驟]
**符合標準:** [相關標準條款]

### 3.3 安全監控
**需求ID:** MN001
**控制目標:** 即時偵測安全事件
**實作要求:**
- 安全事件記錄
- 異常行為偵測
- 即時告警機制
- 事件關聯分析

**測試方法:** [測試步驟]
**符合標準:** [相關標準條款]

## 4. 合規性需求

### 4.1 法規要求對照表
| 法規名稱 | 條款編號 | 要求內容 | 對應控制措施 | 實作狀態 |
|----------|----------|----------|--------------|----------|
| [法規名稱] | [條款] | [要求說明] | [控制措施] | [待實作/已實作] |

### 4.2 稽核要求
**稽核頻率:** [年度/季度/月度]
**稽核範圍:** [稽核項目清單]
**稽核標準:** [依據的標準或框架]
**報告要求:** [報告格式和提交時間]

## 5. 資料保護需求

### 5.1 資料分類標準
| 分類等級 | 標籤 | 存取控制 | 處理要求 | 保存期限 |
|----------|------|----------|----------|----------|
| 公開 | Public | [控制要求] | [處理方式] | [保存期限] |
| 內部 | Internal | [控制要求] | [處理方式] | [保存期限] |
| 機密 | Confidential | [控制要求] | [處理方式] | [保存期限] |
| 極機密 | Top Secret | [控制要求] | [處理方式] | [保存期限] |

### 5.2 隱私保護要求
**個人資料處理原則:**
- 合法性和透明度
- 目的限制原則
- 資料最小化原則
- 準確性維護
- 保存期限限制
- 完整性和機密性

## 6. 基礎設施安全需求

### 6.1 網路安全
- 網路分段和隔離
- 防火牆和入侵防護
- DDoS 防護機制
- 網路流量監控

### 6.2 應用程式安全
- 安全編碼實務
- 輸入驗證機制
- 輸出編碼處理
- 錯誤處理機制

### 6.3 雲端安全 (如適用)
- 雲端服務安全配置
- 資料隔離要求
- 存取控制管理
- 雲端監控要求
```

## 威脅建模工具建議

### STRIDE 分析框架
- **Spoofing (偽裝)**: 身份偽造威脅
- **Tampering (竄改)**: 資料完整性威脅  
- **Repudiation (否認)**: 不可否認性威脅
- **Information Disclosure (資訊洩露)**: 機密性威脅
- **Denial of Service (拒絕服務)**: 可用性威脅
- **Elevation of Privilege (特權提升)**: 授權威脅

### PASTA 方法論
1. 定義目標 (Define Objectives)
2. 技術範圍定義 (Define Technical Scope)
3. 應用程式分解 (Application Decomposition)
4. 威脅分析 (Threat Analysis)
5. 弱點分析 (Vulnerability Analysis)
6. 攻擊建模 (Attack Modeling)
7. 風險影響分析 (Risk Impact Analysis)

## 品質檢查清單

- [ ] 完整的資產識別和分類
- [ ] 全面的威脅情境分析
- [ ] 定量化的風險評估
- [ ] 具體的安全控制措施
- [ ] 明確的合規性對照
- [ ] 詳細的資料保護要求
- [ ] 可測試的安全需求
- [ ] 可追溯的需求編號

## 使用範例

### 範例：電子商務平台安全需求

#### 威脅情境範例
**威脅ID:** T001
**威脅名稱:** SQL 注入攻擊
**威脅描述:** 攻擊者透過惡意 SQL 語句存取資料庫
**攻擊路徑:** 
1. 攻擊者識別輸入欄位
2. 插入惡意 SQL 語句
3. 繞過輸入驗證
4. 執行未授權的資料庫操作

**影響資產:** 客戶資料庫、交易記錄
**可能性:** 中
**影響程度:** 高

#### 對應安全控制
**需求ID:** SC001
**控制措施:** 參數化查詢和輸入驗證
**實作要求:**
- 使用預編譯語句
- 實作嚴格的輸入驗證
- 資料庫權限最小化
- SQL 查詢監控

## 注意事項

1. 定期更新威脅模型以反映新興威脅
2. 考慮供應鏈安全風險
3. 平衡安全性與可用性要求
4. 確保安全需求的可實作性
5. 建立持續的安全評估機制
