# æ¸¬è©¦èˆ‡å“è³ªä¿è­‰æŒ‡å¼•

> **é©ç”¨å°è±¡**: æ–°é€²å°ˆæ¡ˆæˆå“¡ã€é–‹ç™¼äººå“¡ã€æ¸¬è©¦äººå“¡  
> **æ–‡ä»¶ç›®çš„**: å¿«é€Ÿç†è§£å°ˆæ¡ˆçš„æ¸¬è©¦æµç¨‹èˆ‡å“è³ªä¿è­‰è¦ç¯„  
> **æ›´æ–°æ—¥æœŸ**: 2025å¹´8æœˆ27æ—¥

---

## ç›®éŒ„

1. [æ¸¬è©¦èˆ‡å“è³ªä¿è­‰çš„è§’è‰²èˆ‡è²¬ä»»](#1-æ¸¬è©¦èˆ‡å“è³ªä¿è­‰çš„è§’è‰²èˆ‡è²¬ä»»)
2. [æ¸¬è©¦æµç¨‹èˆ‡å„éšæ®µ](#2-æ¸¬è©¦æµç¨‹èˆ‡å„éšæ®µ)
3. [æ¸¬è©¦è¨ˆç•«èˆ‡æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ](#3-æ¸¬è©¦è¨ˆç•«èˆ‡æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ)
4. [æ¸¬è©¦è‡ªå‹•åŒ–èˆ‡å·¥å…·å»ºè­°](#4-æ¸¬è©¦è‡ªå‹•åŒ–èˆ‡å·¥å…·å»ºè­°)
5. [ç¼ºé™·ç®¡ç†æµç¨‹](#5-ç¼ºé™·ç®¡ç†æµç¨‹)
6. [æ¸¬è©¦å“è³ªæŒ‡æ¨™èˆ‡è¡¡é‡æ–¹å¼](#6-æ¸¬è©¦å“è³ªæŒ‡æ¨™èˆ‡è¡¡é‡æ–¹å¼)
7. [æ¸¬è©¦èˆ‡ CI/CDã€ç‰ˆæœ¬æ§ç®¡ã€DevOps çš„é—œè¯](#7-æ¸¬è©¦èˆ‡-cicdç‰ˆæœ¬æ§ç®¡devops-çš„é—œè¯)
8. [å®‰å…¨æ€§æ¸¬è©¦èˆ‡åˆè¦æ€§é©—è­‰](#8-å®‰å…¨æ€§æ¸¬è©¦èˆ‡åˆè¦æ€§é©—è­‰)
9. [æ•ˆèƒ½æ¸¬è©¦èˆ‡æ•ˆèƒ½èª¿æ ¡](#9-æ•ˆèƒ½æ¸¬è©¦èˆ‡æ•ˆèƒ½èª¿æ ¡)
10. [æ¸¬è©¦è³‡æ–™ç®¡ç†èˆ‡éš±ç§ä¿è­·](#10-æ¸¬è©¦è³‡æ–™ç®¡ç†èˆ‡éš±ç§ä¿è­·)
11. [è·¨ç€è¦½å™¨èˆ‡è·¨å¹³å°æ¸¬è©¦](#11-è·¨ç€è¦½å™¨èˆ‡è·¨å¹³å°æ¸¬è©¦)
12. [API æ¸¬è©¦èˆ‡å¾®æœå‹™æ¸¬è©¦ç­–ç•¥](#12-api-æ¸¬è©¦èˆ‡å¾®æœå‹™æ¸¬è©¦ç­–ç•¥)
13. [å¸¸è¦‹éŒ¯èª¤èˆ‡é¿å…æ–¹å¼](#13-å¸¸è¦‹éŒ¯èª¤èˆ‡é¿å…æ–¹å¼)
14. [æ–°é€²æˆå“¡çš„æœ€ä½³å¯¦å‹™èˆ‡å»ºè­°](#14-æ–°é€²æˆå“¡çš„æœ€ä½³å¯¦å‹™èˆ‡å»ºè­°)
15. [æ¸¬è©¦èˆ‡å“è³ªä¿è­‰æª¢æŸ¥æ¸…å–®](#15-æ¸¬è©¦èˆ‡å“è³ªä¿è­‰æª¢æŸ¥æ¸…å–®)
16. [æ¸¬è©¦æˆæœ¬æ•ˆç›Šåˆ†æèˆ‡ ROI è©•ä¼°](#16-æ¸¬è©¦æˆæœ¬æ•ˆç›Šåˆ†æèˆ‡-roi-è©•ä¼°)
17. [åœ˜éšŠå”ä½œèˆ‡æºé€š](#17-åœ˜éšŠå”ä½œèˆ‡æºé€š)

---

## 1. æ¸¬è©¦èˆ‡å“è³ªä¿è­‰çš„è§’è‰²èˆ‡è²¬ä»»

### 1.1 é–‹ç™¼äººå“¡è·è²¬

#### ä¸»è¦è²¬ä»»

- **æ’°å¯«å–®å…ƒæ¸¬è©¦**: ç‚ºæ¯å€‹æ–°åŠŸèƒ½æ’°å¯«å°æ‡‰çš„å–®å…ƒæ¸¬è©¦
- **ç¨‹å¼ç¢¼å¯©æŸ¥**: æª¢è¦–åŒäº‹çš„ç¨‹å¼ç¢¼ï¼Œç¢ºä¿å“è³ªæ¨™æº–
- **ä¿®å¾©ç¼ºé™·**: åŠæ™‚ä¿®å¾©æ¸¬è©¦ä¸­ç™¼ç¾çš„å•é¡Œ
- **æ–‡ä»¶ç¶­è­·**: æ›´æ–°æŠ€è¡“æ–‡ä»¶å’Œ API èªªæ˜

#### å…·é«”å·¥ä½œé …ç›®

```markdown
âœ… æ¯å€‹æ–¹æ³•éƒ½æœ‰å°æ‡‰çš„å–®å…ƒæ¸¬è©¦
âœ… ç¨‹å¼ç¢¼è¦†è“‹ç‡é”åˆ° 80% ä»¥ä¸Š
âœ… éµå¾ªç¨‹å¼ç¢¼é¢¨æ ¼æŒ‡å¼•
âœ… æäº¤å‰åŸ·è¡Œæœ¬åœ°æ¸¬è©¦
```

### 1.2 æ¸¬è©¦äººå“¡è·è²¬

#### ä¸»è¦è²¬ä»»
- **æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ**: æ ¹æ“šéœ€æ±‚è¦æ ¼è¨­è¨ˆå®Œæ•´çš„æ¸¬è©¦æ¡ˆä¾‹
- **åŸ·è¡Œæ¸¬è©¦**: é€²è¡Œç³»çµ±æ¸¬è©¦ã€æ•´åˆæ¸¬è©¦ã€ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦
- **ç¼ºé™·è¿½è¹¤**: è¨˜éŒ„ã€è¿½è¹¤ä¸¦é©—è­‰ç¼ºé™·ä¿®å¾©
- **æ¸¬è©¦å ±å‘Š**: æä¾›æ¸¬è©¦çµæœåˆ†æå’Œå“è³ªè©•ä¼°

#### å…·é«”å·¥ä½œé …ç›®
```markdown
âœ… è¨­è¨ˆé‚Šç•Œå€¼å’Œç•°å¸¸æƒ…æ³æ¸¬è©¦
âœ… åŸ·è¡Œå›æ­¸æ¸¬è©¦ç¢ºä¿åŠŸèƒ½ç©©å®š
âœ… é©—è­‰éåŠŸèƒ½æ€§éœ€æ±‚ï¼ˆæ•ˆèƒ½ã€å®‰å…¨æ€§ï¼‰
âœ… æä¾›æ¸¬è©¦åŸ·è¡Œå ±å‘Š
```

### 1.3 å°ˆæ¡ˆç¶“ç†è·è²¬

#### ä¸»è¦è²¬ä»»
- **è³‡æºè¦åŠƒ**: å®‰æ’æ¸¬è©¦æ™‚ç¨‹å’ŒäººåŠ›è³‡æº
- **é¢¨éšªç®¡æ§**: è­˜åˆ¥ä¸¦ç®¡ç†æ¸¬è©¦ç›¸é—œé¢¨éšª
- **å“è³ªç›£æ§**: ç›£æ§å°ˆæ¡ˆæ•´é«”å“è³ªæŒ‡æ¨™
- **æºé€šå”èª¿**: å”èª¿é–‹ç™¼ã€æ¸¬è©¦ã€æ¥­å‹™å–®ä½é–“çš„åˆä½œ

### 1.4 å¯¦å‹™æ¡ˆä¾‹

#### æ¡ˆä¾‹ä¸€ï¼šéŠ€è¡Œç³»çµ±é–‹ç™¼
```
æƒ…å¢ƒï¼šé–‹ç™¼ç·šä¸Šè½‰å¸³åŠŸèƒ½
- é–‹ç™¼äººå“¡ï¼šæ’°å¯«è½‰å¸³é‚è¼¯å–®å…ƒæ¸¬è©¦
- æ¸¬è©¦äººå“¡ï¼šè¨­è¨ˆè½‰å¸³é‡‘é¡é‚Šç•Œå€¼æ¸¬è©¦ï¼ˆ0å…ƒã€è² æ•¸ã€è¶…éé™é¡ï¼‰
- å°ˆæ¡ˆç¶“ç†ï¼šç¢ºä¿æ¸¬è©¦è¦†è“‹é‡‘ç®¡æœƒæ³•è¦è¦æ±‚
```

#### æ¡ˆä¾‹äºŒï¼šAPI é–‹ç™¼
```
æƒ…å¢ƒï¼šé–‹ç™¼å®¢æˆ¶è³‡æ–™æŸ¥è©¢ API
- é–‹ç™¼äººå“¡ï¼šæ¸¬è©¦ API å›æ‡‰æ ¼å¼å’ŒéŒ¯èª¤è™•ç†
- æ¸¬è©¦äººå“¡ï¼šé©—è­‰ API å®‰å…¨æ€§å’Œæ•ˆèƒ½
- å°ˆæ¡ˆç¶“ç†ï¼šç¢ºä¿ç¬¦åˆå€‹è³‡ä¿è­·è¦ç¯„
```

### 1.5 æ³¨æ„äº‹é …

âš ï¸ **é‡è¦æé†’**

- æ¸¬è©¦ä¸æ˜¯æŸä¸€å€‹äººçš„è²¬ä»»ï¼Œè€Œæ˜¯æ•´å€‹åœ˜éšŠçš„å…±åŒè²¬ä»»
- å“è³ªå•é¡Œè¶Šæ—©ç™¼ç¾ï¼Œä¿®å¾©æˆæœ¬è¶Šä½
- æ¯å€‹è§’è‰²éƒ½è¦å…·å‚™åŸºæœ¬çš„å“è³ªæ„è­˜
- æºé€šå’Œå”ä½œæ˜¯ç¢ºä¿å“è³ªçš„é—œéµ

---

## 2. æ¸¬è©¦æµç¨‹èˆ‡å„éšæ®µ

### 2.1 æ¸¬è©¦éšæ®µæ¦‚è¦½

```mermaid
graph TD
    A[éœ€æ±‚åˆ†æ] --> B[å–®å…ƒæ¸¬è©¦]
    B --> C[æ•´åˆæ¸¬è©¦]
    C --> D[ç³»çµ±æ¸¬è©¦]
    D --> E[ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦ UAT]
    E --> F[å£“åŠ›æ¸¬è©¦]
    F --> G[ä¸Šç·šéƒ¨ç½²]
```

### 2.2 å–®å…ƒæ¸¬è©¦ (Unit Testing)

#### ç›®çš„èˆ‡ç¯„åœ

- **ç›®çš„**: é©—è­‰å€‹åˆ¥ç¨‹å¼æ¨¡çµ„çš„åŠŸèƒ½æ­£ç¢ºæ€§
- **ç¯„åœ**: æœ€å°å¯æ¸¬è©¦å–®ä½ï¼ˆæ–¹æ³•ã€é¡åˆ¥ï¼‰
- **åŸ·è¡Œè€…**: é–‹ç™¼äººå“¡
- **æ™‚æ©Ÿ**: é–‹ç™¼éç¨‹ä¸­æŒçºŒé€²è¡Œ

#### å¯¦æ–½é‡é»

```java
// ç¯„ä¾‹ï¼šè‰¯å¥½çš„å–®å…ƒæ¸¬è©¦
@Test
public void testCalculateInterest_ValidAmount_ReturnsCorrectInterest() {
    // Arrange
    LoanCalculator calculator = new LoanCalculator();
    double principal = 100000;
    double rate = 0.05;
    int years = 10;
    
    // Act
    double result = calculator.calculateInterest(principal, rate, years);
    
    // Assert
    assertEquals(50000.0, result, 0.01);
}
```

#### æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆåŸå‰‡

1. **é‚Šç•Œå€¼æ¸¬è©¦**: æ¸¬è©¦è¼¸å…¥åƒæ•¸çš„é‚Šç•Œæƒ…æ³
2. **ç­‰åƒ¹é¡åŠƒåˆ†**: å°‡è¼¸å…¥åˆ†ç‚ºç­‰åƒ¹é¡åˆ¥é€²è¡Œæ¸¬è©¦
3. **ç•°å¸¸è™•ç†**: æ¸¬è©¦éŒ¯èª¤è¼¸å…¥çš„è™•ç†
4. **è¦†è“‹ç‡è¦æ±‚**: ç¨‹å¼ç¢¼è¦†è“‹ç‡é”åˆ° 80% ä»¥ä¸Š

### 2.3 æ•´åˆæ¸¬è©¦ (Integration Testing)

#### ç›®çš„èˆ‡ç¯„åœ

- **ç›®çš„**: é©—è­‰æ¨¡çµ„é–“çš„ä»‹é¢å’Œè³‡æ–™æµ
- **ç¯„åœ**: æ¨¡çµ„é–“çš„æ•´åˆé»
- **åŸ·è¡Œè€…**: é–‹ç™¼äººå“¡èˆ‡æ¸¬è©¦äººå“¡
- **æ™‚æ©Ÿ**: æ¨¡çµ„é–‹ç™¼å®Œæˆå¾Œ

#### æ•´åˆç­–ç•¥

1. **å¤§çˆ†ç‚¸æ•´åˆ** (Big Bang)
   - æ‰€æœ‰æ¨¡çµ„åŒæ™‚æ•´åˆ
   - é©ç”¨æ–¼å°å‹ç³»çµ±

2. **æ¼¸å¢å¼æ•´åˆ** (Incremental)
   - **ç”±ä¸Šè€Œä¸‹**: å¾ä¸»æ§æ¨¡çµ„é–‹å§‹
   - **ç”±ä¸‹è€Œä¸Š**: å¾åº•å±¤æ¨¡çµ„é–‹å§‹
   - **æ··åˆå¼**: çµåˆå…©ç¨®æ–¹å¼

#### å¯¦å‹™æ¡ˆä¾‹

```text
æ¡ˆä¾‹ï¼šæ”¯ä»˜ç³»çµ±æ•´åˆæ¸¬è©¦
- æ¸¬è©¦é‡é»ï¼šå¸³æˆ¶é©—è­‰ â†’ é¤˜é¡æª¢æŸ¥ â†’ äº¤æ˜“è™•ç† â†’ è¨˜éŒ„æ›´æ–°
- é©—è­‰é …ç›®ï¼šè³‡æ–™å‚³éã€éŒ¯èª¤è™•ç†ã€äº¤æ˜“ä¸€è‡´æ€§
```

### 2.4 ç³»çµ±æ¸¬è©¦ (System Testing)

#### ç›®çš„èˆ‡ç¯„åœ

- **ç›®çš„**: é©—è­‰æ•´å€‹ç³»çµ±çš„åŠŸèƒ½èˆ‡éåŠŸèƒ½éœ€æ±‚
- **ç¯„åœ**: å®Œæ•´çš„ç³»çµ±ç’°å¢ƒ
- **åŸ·è¡Œè€…**: æ¸¬è©¦äººå“¡
- **æ™‚æ©Ÿ**: ç³»çµ±æ•´åˆå®Œæˆå¾Œ

#### æ¸¬è©¦é¡å‹

1. **åŠŸèƒ½æ€§æ¸¬è©¦**
   - æ¥­å‹™æµç¨‹é©—è­‰
   - ä½¿ç”¨è€…ä»‹é¢æ¸¬è©¦
   - API åŠŸèƒ½æ¸¬è©¦

2. **éåŠŸèƒ½æ€§æ¸¬è©¦**
   - æ•ˆèƒ½æ¸¬è©¦
   - å®‰å…¨æ€§æ¸¬è©¦
   - å¯ç”¨æ€§æ¸¬è©¦
   - ç›¸å®¹æ€§æ¸¬è©¦

### 2.5 ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦ (UAT)

#### ç›®çš„èˆ‡ç¯„åœ

- **ç›®çš„**: ç¢ºèªç³»çµ±ç¬¦åˆæ¥­å‹™éœ€æ±‚
- **ç¯„åœ**: çœŸå¯¦æ¥­å‹™å ´æ™¯
- **åŸ·è¡Œè€…**: æ¥­å‹™ä½¿ç”¨è€…
- **æ™‚æ©Ÿ**: ç³»çµ±æ¸¬è©¦é€šéå¾Œ

#### UAT åŸ·è¡Œæ­¥é©Ÿ

1. **æº–å‚™éšæ®µ**
   - å»ºç«‹æ¸¬è©¦ç’°å¢ƒ
   - æº–å‚™æ¸¬è©¦è³‡æ–™
   - åŸ¹è¨“ä½¿ç”¨è€…

2. **åŸ·è¡Œéšæ®µ**
   - æŒ‰æ¥­å‹™æµç¨‹æ¸¬è©¦
   - è¨˜éŒ„å•é¡Œå’Œå»ºè­°
   - æ”¶é›†ä½¿ç”¨è€…å›é¥‹

3. **é©—æ”¶éšæ®µ**
   - æª¢è¦–æ¸¬è©¦çµæœ
   - æ±ºå®šæ˜¯å¦æ¥å—ç³»çµ±
   - ç°½ç½²é©—æ”¶æ–‡ä»¶

### 2.6 å£“åŠ›æ¸¬è©¦ (Performance Testing)

#### ç›®çš„èˆ‡ç¯„åœ

- **ç›®çš„**: é©—è­‰ç³»çµ±åœ¨è² è¼‰ä¸‹çš„è¡¨ç¾
- **ç¯„åœ**: ç³»çµ±æ•ˆèƒ½å’Œç©©å®šæ€§
- **åŸ·è¡Œè€…**: æ¸¬è©¦äººå“¡èˆ‡é‹ç¶­äººå“¡
- **æ™‚æ©Ÿ**: ä¸Šç·šå‰æœ€å¾Œéšæ®µ

#### æ¸¬è©¦é¡å‹

1. **è² è¼‰æ¸¬è©¦** (Load Testing)
   - æ¨¡æ“¬æ­£å¸¸ä½¿ç”¨æƒ…æ³
   - é©—è­‰ç³»çµ±è™•ç†èƒ½åŠ›

2. **å£“åŠ›æ¸¬è©¦** (Stress Testing)
   - è¶…éæ­£å¸¸è² è¼‰
   - æ‰¾å‡ºç³»çµ±ç“¶é ¸

3. **å®¹é‡æ¸¬è©¦** (Volume Testing)
   - å¤§é‡è³‡æ–™è™•ç†
   - é©—è­‰è³‡æ–™è™•ç†èƒ½åŠ›

4. **è€ä¹…æ¸¬è©¦** (Endurance Testing)
   - é•·æ™‚é–“é‹è¡Œ
   - æª¢æŸ¥è¨˜æ†¶é«”æ´©æ¼

#### æ•ˆèƒ½æŒ‡æ¨™

```markdown
ğŸ“Š é—œéµæ•ˆèƒ½æŒ‡æ¨™ (KPI)
- å›æ‡‰æ™‚é–“ < 3 ç§’
- ååé‡ > 1000 TPS
- CPU ä½¿ç”¨ç‡ < 80%
- è¨˜æ†¶é«”ä½¿ç”¨ç‡ < 85%
- éŒ¯èª¤ç‡ < 0.1%
```

### 2.7 æ³¨æ„äº‹é …

âš ï¸ **æ¸¬è©¦éšæ®µé‡é»æé†’**

- æ¯å€‹éšæ®µéƒ½æœ‰æ˜ç¢ºçš„é€²å…¥å’Œé€€å‡ºæ¢ä»¶
- æ¸¬è©¦ç’°å¢ƒè¦ç›¡é‡æ¥è¿‘ç”Ÿç”¢ç’°å¢ƒ
- æ¸¬è©¦è³‡æ–™è¦æ¶µè“‹å„ç¨®æƒ…å¢ƒ
- åŠæ—©ç™¼ç¾å•é¡Œï¼Œé™ä½ä¿®å¾©æˆæœ¬
- ä¿æŒæ¸¬è©¦æ–‡ä»¶çš„æ›´æ–°

---

## 3. æ¸¬è©¦è¨ˆç•«èˆ‡æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ

### 3.1 æ¸¬è©¦è¨ˆç•«æ’°å¯«

#### æ¸¬è©¦è¨ˆç•«åŸºæœ¬æ¶æ§‹

```markdown
ğŸ“‹ æ¸¬è©¦è¨ˆç•«ç¯„æœ¬
1. å°ˆæ¡ˆæ¦‚è¿°
2. æ¸¬è©¦ç›®æ¨™èˆ‡ç¯„åœ
3. æ¸¬è©¦ç­–ç•¥èˆ‡æ–¹æ³•
4. æ¸¬è©¦ç’°å¢ƒéœ€æ±‚
5. æ¸¬è©¦æ™‚ç¨‹å®‰æ’
6. äººåŠ›è³‡æºåˆ†é…
7. é¢¨éšªè©•ä¼°èˆ‡æ‡‰å°
8. é©—æ”¶æ¨™æº–
```

#### æ¸¬è©¦ç¯„åœå®šç¾©

**åŒ…å«é …ç›® (In Scope)**
- æ ¸å¿ƒæ¥­å‹™åŠŸèƒ½
- ä½¿ç”¨è€…ä»‹é¢
- API ä»‹é¢
- è³‡æ–™åº«æ•´åˆ
- å®‰å…¨æ€§é©—è­‰

**æ’é™¤é …ç›® (Out of Scope)**
- ç¬¬ä¸‰æ–¹ç³»çµ±
- ç¡¬é«”è¨­å‚™
- ç¶²è·¯åŸºç¤è¨­æ–½

### 3.2 æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆæŠ€è¡“

#### ç­‰åƒ¹é¡åŠƒåˆ†æ³•

```java
// ç¯„ä¾‹ï¼šä¿¡ç”¨å¡è™Ÿç¢¼é©—è­‰
// ç­‰åƒ¹é¡ï¼š
// æœ‰æ•ˆé¡ï¼š16ä½æ•¸å­—
// ç„¡æ•ˆé¡ï¼šç©ºå€¼ã€éæ•¸å­—ã€é•·åº¦ä¸å°

@Test
public void testCreditCardValidation() {
    // æœ‰æ•ˆç­‰åƒ¹é¡
    assertTrue(validator.isValidCreditCard("1234567890123456"));
    
    // ç„¡æ•ˆç­‰åƒ¹é¡
    assertFalse(validator.isValidCreditCard("")); // ç©ºå€¼
    assertFalse(validator.isValidCreditCard("abcd")); // éæ•¸å­—
    assertFalse(validator.isValidCreditCard("123")); // é•·åº¦ä¸å°
}
```

#### é‚Šç•Œå€¼åˆ†ææ³•

```java
// ç¯„ä¾‹ï¼šå¹´é½¡é©—è­‰ (18-65æ­²)
@Test
public void testAgeValidation_BoundaryValues() {
    // é‚Šç•Œå€¼
    assertFalse(validator.isValidAge(17)); // ä¸‹é‚Šç•Œ-1
    assertTrue(validator.isValidAge(18));  // ä¸‹é‚Šç•Œ
    assertTrue(validator.isValidAge(19));  // ä¸‹é‚Šç•Œ+1
    
    assertTrue(validator.isValidAge(64));  // ä¸Šé‚Šç•Œ-1
    assertTrue(validator.isValidAge(65));  // ä¸Šé‚Šç•Œ
    assertFalse(validator.isValidAge(66)); // ä¸Šé‚Šç•Œ+1
}
```

#### æ±ºç­–è¡¨æ³•

```markdown
| æ¢ä»¶          | è¦å‰‡1 | è¦å‰‡2 | è¦å‰‡3 | è¦å‰‡4 |
|---------------|-------|-------|-------|-------|
| æœƒå“¡ç­‰ç´š=VIP  | Y     | Y     | N     | N     |
| è³¼è²·é‡‘é¡>1000 | Y     | N     | Y     | N     |
| å‹•ä½œ          |       |       |       |       |
| æŠ˜æ‰£9æŠ˜       | Y     | N     | N     | N     |
| æŠ˜æ‰£95æŠ˜      | N     | Y     | Y     | N     |
| ç„¡æŠ˜æ‰£        | N     | N     | N     | Y     |
```

#### ç‹€æ…‹é·ç§»æ¸¬è©¦

```java
// ç¯„ä¾‹ï¼šè¨‚å–®ç‹€æ…‹æ¸¬è©¦
@Test
public void testOrderStateTransition() {
    Order order = new Order();
    
    // åˆå§‹ç‹€æ…‹
    assertEquals(OrderState.CREATED, order.getState());
    
    // ç‹€æ…‹é·ç§»
    order.confirm();
    assertEquals(OrderState.CONFIRMED, order.getState());
    
    order.ship();
    assertEquals(OrderState.SHIPPED, order.getState());
    
    order.deliver();
    assertEquals(OrderState.DELIVERED, order.getState());
}
```

### 3.3 æ¸¬è©¦æ¡ˆä¾‹ç®¡ç†

#### æ¸¬è©¦æ¡ˆä¾‹æ ¼å¼

```markdown
ğŸ“ æ¸¬è©¦æ¡ˆä¾‹ç¯„æœ¬
- æ¡ˆä¾‹ç·¨è™Ÿ: TC_001
- æ¡ˆä¾‹æ¨™é¡Œ: ä½¿ç”¨è€…ç™»å…¥åŠŸèƒ½é©—è­‰
- å‰ç½®æ¢ä»¶: ä½¿ç”¨è€…å¸³è™Ÿå·²å»ºç«‹
- æ¸¬è©¦æ­¥é©Ÿ:
  1. è¼¸å…¥æ­£ç¢ºå¸³è™Ÿå¯†ç¢¼
  2. é»é¸ç™»å…¥æŒ‰éˆ•
- é æœŸçµæœ: æˆåŠŸç™»å…¥ä¸¦è·³è½‰åˆ°é¦–é 
- å¯¦éš›çµæœ: (åŸ·è¡Œæ™‚å¡«å¯«)
- æ¸¬è©¦ç‹€æ…‹: Pass/Fail/Block
```

#### æ¸¬è©¦è³‡æ–™ç®¡ç†

```java
// ä½¿ç”¨æ¸¬è©¦è³‡æ–™å»ºæ§‹å™¨æ¨¡å¼
public class TestDataBuilder {
    public static User createValidUser() {
        return User.builder()
            .username("testuser")
            .email("test@example.com")
            .age(25)
            .build();
    }
    
    public static User createInvalidUser() {
        return User.builder()
            .username("") // ç„¡æ•ˆçš„ç©ºä½¿ç”¨è€…åç¨±
            .email("invalid-email")
            .age(-1)
            .build();
    }
}
```

### 3.4 å¯¦å‹™æ¡ˆä¾‹èˆ‡å»ºè­°

#### æ¡ˆä¾‹ï¼šéŠ€è¡Œè½‰å¸³åŠŸèƒ½æ¸¬è©¦è¨­è¨ˆ

```markdown
ğŸ¦ éŠ€è¡Œè½‰å¸³æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ
- æ­£å¸¸æµç¨‹ï¼šé¤˜é¡è¶³å¤ çš„è½‰å¸³
- ç•°å¸¸æµç¨‹ï¼šé¤˜é¡ä¸è¶³ã€å¸³è™Ÿä¸å­˜åœ¨
- é‚Šç•Œå€¼ï¼šè½‰å¸³é‡‘é¡ä¸Šä¸‹é™
- å®‰å…¨æ€§ï¼šSQLæ³¨å…¥ã€XSSæ”»æ“Š
- æ•ˆèƒ½ï¼šå¤§é‡ä¸¦ç™¼è½‰å¸³
```

---

## 4. æ¸¬è©¦è‡ªå‹•åŒ–èˆ‡å·¥å…·å»ºè­°

### 4.1 è‡ªå‹•åŒ–æ¸¬è©¦ç­–ç•¥

#### æ¸¬è©¦é‡‘å­—å¡”

```
           /\
          /  \
         / UI \     10% - ä½¿ç”¨è€…ä»‹é¢æ¸¬è©¦
        /______\
       /        \
      / Service \ 20% - æœå‹™/APIæ¸¬è©¦
     /___________\
    /             \
   /     Unit      \ 70% - å–®å…ƒæ¸¬è©¦
  /_________________\
```

#### è‡ªå‹•åŒ–æ¸¬è©¦åŸå‰‡

1. **æŠ•è³‡å›å ±ç‡æœ€é«˜çš„æ¸¬è©¦å„ªå…ˆè‡ªå‹•åŒ–**
2. **ç©©å®šä¸”é‡è¤‡åŸ·è¡Œçš„æ¸¬è©¦**
3. **è³‡æ–™é©…å‹•çš„æ¸¬è©¦**
4. **å›æ­¸æ¸¬è©¦å¿…é ˆè‡ªå‹•åŒ–**

### 4.2 Java å°ˆæ¡ˆæ¸¬è©¦å·¥å…·

#### å–®å…ƒæ¸¬è©¦æ¡†æ¶

**JUnit 5**
```java
@DisplayName("è¨ˆç®—æ©Ÿæ¸¬è©¦")
class CalculatorTest {
    
    @Test
    @DisplayName("åŠ æ³•æ¸¬è©¦")
    void testAdd() {
        Calculator calc = new Calculator();
        assertEquals(5, calc.add(2, 3));
    }
    
    @ParameterizedTest
    @ValueSource(ints = {1, 2, 3, 4, 5})
    @DisplayName("åƒæ•¸åŒ–æ¸¬è©¦")
    void testIsPositive(int number) {
        assertTrue(number > 0);
    }
}
```

**TestNG**
```java
@Test(groups = {"smoke"})
public void testUserLogin() {
    // æ¸¬è©¦é‚è¼¯
}

@Test(dependsOnMethods = {"testUserLogin"})
public void testUserProfile() {
    // ä¾è³´å…¶ä»–æ¸¬è©¦çš„é‚è¼¯
}
```

#### Mock æ¡†æ¶

**Mockito**
```java
@Mock
private UserRepository userRepository;

@Test
void testUserService() {
    // Given
    User mockUser = new User("john", "john@example.com");
    when(userRepository.findByUsername("john")).thenReturn(mockUser);
    
    // When
    User result = userService.findUser("john");
    
    // Then
    assertEquals("john@example.com", result.getEmail());
    verify(userRepository).findByUsername("john");
}
```

#### æ•´åˆæ¸¬è©¦å·¥å…·

**Spring Boot Test**
```java
@SpringBootTest
@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
class UserControllerIntegrationTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @Test
    void testCreateUser() {
        User user = new User("test", "test@example.com");
        ResponseEntity<User> response = restTemplate.postForEntity(
            "/api/users", user, User.class);
        
        assertEquals(HttpStatus.CREATED, response.getStatusCode());
    }
}
```

#### API æ¸¬è©¦å·¥å…·

**REST Assured**
```java
@Test
public void testGetUser() {
    given()
        .pathParam("id", 1)
    .when()
        .get("/api/users/{id}")
    .then()
        .statusCode(200)
        .body("name", equalTo("John Doe"))
        .body("email", equalTo("john@example.com"));
}
```

#### æ•ˆèƒ½æ¸¬è©¦å·¥å…·

**JMeter**
- åœ–å½¢åŒ–ä»‹é¢è¨­è¨ˆæ¸¬è©¦è¨ˆç•«
- æ”¯æ´å¤šç¨®å”å®š (HTTP, JDBC, FTP)
- ç”¢ç”Ÿè©³ç´°çš„æ•ˆèƒ½å ±å‘Š

**Gatling**
```scala
class UserSimulation extends Simulation {
  val httpProtocol = http.baseUrl("http://localhost:8080")
  
  val scn = scenario("User Scenario")
    .exec(http("Get Users")
      .get("/api/users")
      .check(status.is(200)))
  
  setUp(scn.inject(atOnceUsers(100))).protocols(httpProtocol)
}
```

### 4.3 CI/CD æ•´åˆ

#### Maven é…ç½®

```xml
<plugin>
    <groupId>org.surefire</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>3.0.0-M7</version>
    <configuration>
        <includes>
            <include>**/*Test.java</include>
            <include>**/*Tests.java</include>
        </includes>
        <excludes>
            <exclude>**/*IntegrationTest.java</exclude>
        </excludes>
    </configuration>
</plugin>

<plugin>
    <groupId>org.jacoco</groupId>
    <artifactId>jacoco-maven-plugin</artifactId>
    <version>0.8.7</version>
    <executions>
        <execution>
            <goals>
                <goal>prepare-agent</goal>
            </goals>
        </execution>
        <execution>
            <id>report</id>
            <phase>test</phase>
            <goals>
                <goal>report</goal>
            </goals>
        </execution>
    </executions>
</plugin>
```

#### GitHub Actions é…ç½®

```yaml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up JDK 11
      uses: actions/setup-java@v3
      with:
        java-version: '11'
        distribution: 'temurin'
        
    - name: Cache Maven dependencies
      uses: actions/cache@v3
      with:
        path: ~/.m2
        key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
        
    - name: Run tests
      run: mvn clean test
      
    - name: Generate test report
      run: mvn jacoco:report
      
    - name: Upload coverage reports
      uses: codecov/codecov-action@v3
```

### 4.4 æ¸¬è©¦å ±å‘Šèˆ‡æŒ‡æ¨™

#### è¦†è“‹ç‡å ±å‘Š

```bash
# ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
mvn clean test jacoco:report

# æª¢è¦–å ±å‘Š
open target/site/jacoco/index.html
```

#### å“è³ªæŒ‡æ¨™

```markdown
ğŸ“Š æ¸¬è©¦å“è³ªæŒ‡æ¨™
- ç¨‹å¼ç¢¼è¦†è“‹ç‡ â‰¥ 80%
- æ¸¬è©¦é€šéç‡ = 100%
- æ¸¬è©¦åŸ·è¡Œæ™‚é–“ < 10 åˆ†é˜
- ç¼ºé™·å¯†åº¦ < 1 å€‹/KLOC
```

### 4.5 å·¥å…·é¸æ“‡å»ºè­°

#### å°ˆæ¡ˆè¦æ¨¡è€ƒé‡

**å°å‹å°ˆæ¡ˆ (< 10 äºº)**
- JUnit + Mockito
- Maven/Gradle
- SonarQube Lite

**ä¸­å‹å°ˆæ¡ˆ (10-50 äºº)**
- JUnit + TestNG + Mockito
- Jenkins/GitHub Actions
- SonarQube
- TestRail

**å¤§å‹å°ˆæ¡ˆ (> 50 äºº)**

- ä¼æ¥­ç´šæ¸¬è©¦ç®¡ç†å¹³å°
- åˆ†æ•£å¼æ¸¬è©¦åŸ·è¡Œ
- æ•ˆèƒ½ç›£æ§å·¥å…·
- è‡ªå‹•åŒ–éƒ¨ç½²æµæ°´ç·š

---

## 5. ç¼ºé™·ç®¡ç†æµç¨‹ (Bug Lifecycle)

### 5.1 ç¼ºé™·ç”Ÿå‘½é€±æœŸ

```mermaid
graph TD
    A[ç™¼ç¾ç¼ºé™·] --> B[æ–°å»º New]
    B --> C[æŒ‡æ´¾ Assigned]
    C --> D[ä¿®å¾©ä¸­ In Progress]
    D --> E[å¾…é©—è­‰ Fixed]
    E --> F{é©—è­‰çµæœ}
    F -->|é€šé| G[é—œé–‰ Closed]
    F -->|å¤±æ•—| H[é‡æ–°é–‹å•Ÿ Reopened]
    H --> C
    B --> I[æ‹’çµ• Rejected]
    B --> J[å»¶æœŸ Deferred]
```

### 5.2 ç¼ºé™·åš´é‡ç¨‹åº¦åˆ†ç´š

#### åš´é‡ç¨‹åº¦ (Severity)

| ç­‰ç´š | èªªæ˜ | ç¯„ä¾‹ | è™•ç†æ™‚é™ |
|------|------|------|----------|
| Critical | ç³»çµ±å´©æ½°ã€è³‡æ–™éºå¤± | ç„¡æ³•ç™»å…¥ã€äº¤æ˜“å¤±æ•— | 4å°æ™‚å…§ |
| High | ä¸»è¦åŠŸèƒ½ç„¡æ³•ä½¿ç”¨ | æ ¸å¿ƒæ¥­å‹™æµç¨‹ä¸­æ–· | 1å€‹å·¥ä½œæ—¥ |
| Medium | åŠŸèƒ½ç•°å¸¸ä½†æœ‰æ›¿ä»£æ–¹æ¡ˆ | å ±è¡¨é¡¯ç¤ºéŒ¯èª¤ | 3å€‹å·¥ä½œæ—¥ |
| Low | å°å•é¡Œã€ä»‹é¢å•é¡Œ | æ–‡å­—éŒ¯èª¤ã€å°é½Šå•é¡Œ | 1é€±å…§ |

#### å„ªå…ˆç¨‹åº¦ (Priority)

| ç­‰ç´š | èªªæ˜ | è™•ç†é †åº |
|------|------|----------|
| P1 | ç«‹å³è™•ç† | æœ€é«˜å„ªå…ˆ |
| P2 | é«˜å„ªå…ˆè™•ç† | å„ªå…ˆè™•ç† |
| P3 | æ­£å¸¸è™•ç† | ä¸€èˆ¬è™•ç† |
| P4 | ä½å„ªå…ˆè™•ç† | æœ€å¾Œè™•ç† |

### 5.3 ç¼ºé™·å ±å‘Šç¯„æœ¬

```markdown
ğŸ› ç¼ºé™·å ±å‘Šç¯„æœ¬

**åŸºæœ¬è³‡è¨Š**
- ç¼ºé™·ç·¨è™Ÿ: BUG-2025-001
- ç™¼ç¾è€…: å¼µä¸‰
- ç™¼ç¾æ—¥æœŸ: 2025-08-27
- æ¸¬è©¦ç’°å¢ƒ: UAT

**ç¼ºé™·æè¿°**
- æ¨™é¡Œ: ä½¿ç”¨è€…ç™»å…¥å¾Œé é¢é¡¯ç¤ºç©ºç™½
- åš´é‡ç¨‹åº¦: High
- å„ªå…ˆç¨‹åº¦: P2
- æ¨¡çµ„: ä½¿ç”¨è€…ç®¡ç†

**é‡ç¾æ­¥é©Ÿ**
1. é–‹å•Ÿç€è¦½å™¨è¨ªå•ç³»çµ±
2. è¼¸å…¥æ­£ç¢ºçš„å¸³è™Ÿå¯†ç¢¼
3. é»é¸ç™»å…¥æŒ‰éˆ•
4. é é¢è·³è½‰å¾Œé¡¯ç¤ºç©ºç™½

**é æœŸçµæœ**
ç™»å…¥æˆåŠŸå¾Œæ‡‰é¡¯ç¤ºä½¿ç”¨è€…å„€è¡¨æ¿

**å¯¦éš›çµæœ**
é é¢å®Œå…¨ç©ºç™½ï¼Œç„¡ä»»ä½•å…§å®¹é¡¯ç¤º

**ç’°å¢ƒè³‡è¨Š**
- ç€è¦½å™¨: Chrome 116.0
- ä½œæ¥­ç³»çµ±: Windows 11
- è¢å¹•è§£æåº¦: 1920x1080

**é™„ä»¶**
- éŒ¯èª¤æˆªåœ–
- ç€è¦½å™¨ Console æ—¥èªŒ
- ç³»çµ±æ—¥èªŒæª”æ¡ˆ
```

### 5.4 ç¼ºé™·è¿½è¹¤å·¥å…·

#### JIRA è¨­å®š

```yaml
# JIRA å·¥ä½œæµç¨‹è¨­å®š
workflow:
  name: "Bug Workflow"
  states:
    - name: "Open"
      transitions: ["Start Progress", "Resolve", "Close"]
    - name: "In Progress" 
      transitions: ["Stop Progress", "Resolve"]
    - name: "Resolved"
      transitions: ["Close", "Reopen"]
    - name: "Closed"
      transitions: ["Reopen"]
```

#### GitHub Issues è¨­å®š

```yaml
# .github/ISSUE_TEMPLATE/bug_report.yml
name: Bug Report
description: å ±å‘Šç³»çµ±éŒ¯èª¤
title: "[BUG] "
labels: ["bug", "triage"]
body:
  - type: textarea
    id: description
    attributes:
      label: å•é¡Œæè¿°
      description: è«‹è©³ç´°æè¿°é‡åˆ°çš„å•é¡Œ
    validations:
      required: true
  - type: textarea
    id: steps
    attributes:
      label: é‡ç¾æ­¥é©Ÿ
      description: è«‹èªªæ˜å¦‚ä½•é‡ç¾é€™å€‹å•é¡Œ
    validations:
      required: true
```

### 5.5 ç¼ºé™·åˆ†æèˆ‡é é˜²

#### æ ¹æœ¬åŸå› åˆ†æ (RCA)

```markdown
ğŸ” 5 Why åˆ†ææ³•
å•é¡Œ: ç”Ÿç”¢ç’°å¢ƒè³‡æ–™åº«é€£ç·šå¤±æ•—

1. ç‚ºä»€éº¼è³‡æ–™åº«é€£ç·šå¤±æ•—ï¼Ÿ
   â†’ é€£ç·šæ± è€—ç›¡

2. ç‚ºä»€éº¼é€£ç·šæ± è€—ç›¡ï¼Ÿ
   â†’ æœ‰äº›é€£ç·šæ²’æœ‰æ­£ç¢ºé—œé–‰

3. ç‚ºä»€éº¼é€£ç·šæ²’æœ‰æ­£ç¢ºé—œé–‰ï¼Ÿ
   â†’ ç¨‹å¼ç¢¼ä¸­ç¼ºå°‘ finally å€å¡Š

4. ç‚ºä»€éº¼æ²’æœ‰ finally å€å¡Šï¼Ÿ
   â†’ é–‹ç™¼äººå“¡ä¸ç†Ÿæ‚‰æœ€ä½³å¯¦å‹™

5. ç‚ºä»€éº¼é–‹ç™¼äººå“¡ä¸ç†Ÿæ‚‰ï¼Ÿ
   â†’ ç¼ºä¹ç¨‹å¼ç¢¼å¯©æŸ¥å’ŒåŸ¹è¨“

æ ¹æœ¬åŸå› : ç¼ºä¹ç¨‹å¼ç¢¼å¯©æŸ¥æ©Ÿåˆ¶å’Œé–‹ç™¼äººå“¡åŸ¹è¨“
```

#### ç¼ºé™·é é˜²æªæ–½

```java
// ç¯„ä¾‹ï¼šä½¿ç”¨ try-with-resources é˜²æ­¢è³‡æºæ´©æ¼
public List<User> getAllUsers() {
    List<User> users = new ArrayList<>();
    String sql = "SELECT * FROM users";
    
    try (Connection conn = dataSource.getConnection();
         PreparedStatement stmt = conn.prepareStatement(sql);
         ResultSet rs = stmt.executeQuery()) {
        
        while (rs.next()) {
            users.add(mapResultSetToUser(rs));
        }
    } catch (SQLException e) {
        logger.error("æŸ¥è©¢ä½¿ç”¨è€…è³‡æ–™å¤±æ•—", e);
        throw new DataAccessException("ç„¡æ³•å–å¾—ä½¿ç”¨è€…è³‡æ–™", e);
    }
    
    return users;
}
```

---

## 6. æ¸¬è©¦å“è³ªæŒ‡æ¨™èˆ‡è¡¡é‡æ–¹å¼

### 6.1 æ¸¬è©¦è¦†è“‹ç‡æŒ‡æ¨™

#### ç¨‹å¼ç¢¼è¦†è“‹ç‡é¡å‹

```java
// ç¯„ä¾‹ç¨‹å¼ç¢¼
public class Calculator {
    public int divide(int a, int b) {
        if (b == 0) {                    // åˆ†æ”¯1
            throw new ArithmeticException("é™¤æ•¸ä¸èƒ½ç‚ºé›¶");
        }
        return a / b;                    // åˆ†æ”¯2
    }
}

// æ¸¬è©¦æ¡ˆä¾‹
@Test
void testDivide_ValidInput() {
    assertEquals(5, calculator.divide(10, 2)); // åªè¦†è“‹åˆ†æ”¯2
}

@Test
void testDivide_ZeroDivisor() {
    assertThrows(ArithmeticException.class, 
        () -> calculator.divide(10, 0));       // è¦†è“‹åˆ†æ”¯1
}
```

#### è¦†è“‹ç‡æŒ‡æ¨™

| é¡å‹ | èªªæ˜ | ç›®æ¨™å€¼ |
|------|------|--------|
| èªå¥è¦†è“‹ç‡ | åŸ·è¡Œçš„ç¨‹å¼ç¢¼è¡Œæ•¸æ¯”ä¾‹ | â‰¥ 80% |
| åˆ†æ”¯è¦†è“‹ç‡ | åŸ·è¡Œçš„åˆ†æ”¯æ¯”ä¾‹ | â‰¥ 70% |
| å‡½æ•¸è¦†è“‹ç‡ | è¢«å‘¼å«çš„å‡½æ•¸æ¯”ä¾‹ | â‰¥ 90% |
| æ¢ä»¶è¦†è“‹ç‡ | æ¸¬è©¦çš„æ¢ä»¶çµ„åˆæ¯”ä¾‹ | â‰¥ 60% |

### 6.2 æ¸¬è©¦æ•ˆèƒ½æŒ‡æ¨™

#### åŸ·è¡Œæ•ˆç‡æŒ‡æ¨™

```markdown
â±ï¸ æ¸¬è©¦åŸ·è¡Œæ•ˆèƒ½
- å–®å…ƒæ¸¬è©¦åŸ·è¡Œæ™‚é–“ < 10 ç§’
- æ•´åˆæ¸¬è©¦åŸ·è¡Œæ™‚é–“ < 5 åˆ†é˜
- ç³»çµ±æ¸¬è©¦åŸ·è¡Œæ™‚é–“ < 30 åˆ†é˜
- å®Œæ•´æ¸¬è©¦å¥—ä»¶åŸ·è¡Œæ™‚é–“ < 1 å°æ™‚
```

#### æ¸¬è©¦ç©©å®šæ€§æŒ‡æ¨™

```markdown
ğŸ“Š æ¸¬è©¦ç©©å®šæ€§
- æ¸¬è©¦æˆåŠŸç‡ â‰¥ 98%
- å‡é™½æ€§ç‡ â‰¤ 2%
- å‡é™°æ€§ç‡ â‰¤ 1%
- æ¸¬è©¦ç¶­è­·å·¥ä½œé‡ â‰¤ é–‹ç™¼å·¥ä½œé‡çš„ 20%
```

### 6.3 ç¼ºé™·ç™¼ç¾æ•ˆç‡

#### éšæ®µæ€§ç¼ºé™·ç™¼ç¾ç‡

```markdown
ğŸ¯ ç†æƒ³çš„ç¼ºé™·ç™¼ç¾åˆ†å¸ƒ
- å–®å…ƒæ¸¬è©¦éšæ®µ: 40%
- æ•´åˆæ¸¬è©¦éšæ®µ: 30%
- ç³»çµ±æ¸¬è©¦éšæ®µ: 20%
- UAT éšæ®µ: 8%
- ç”Ÿç”¢ç’°å¢ƒ: 2%
```

#### ç¼ºé™·æˆæœ¬åˆ†æ

| ç™¼ç¾éšæ®µ | ä¿®å¾©æˆæœ¬ | æˆæœ¬æ¯”ä¾‹ |
|----------|----------|----------|
| éœ€æ±‚åˆ†æ | $100 | 1x |
| è¨­è¨ˆéšæ®µ | $200 | 2x |
| ç·¨ç¢¼éšæ®µ | $500 | 5x |
| æ¸¬è©¦éšæ®µ | $1,000 | 10x |
| ç”Ÿç”¢ç’°å¢ƒ | $10,000 | 100x |

### 6.4 å“è³ªè¶¨å‹¢ç›£æ§

#### SonarQube å“è³ªæŒ‡æ¨™

```yaml
# sonar-project.properties
sonar.projectKey=java-tutorial
sonar.projectName=Java Tutorial Project
sonar.projectVersion=1.0

# å“è³ªé–€æª»è¨­å®š
sonar.qualitygate.wait=true
sonar.coverage.exclusions=**/*Test.java,**/*Config.java
sonar.test.inclusions=**/*Test.java

# å“è³ªè¦å‰‡
sonar.java.source=11
sonar.java.target=11
sonar.java.libraries=target/classes
```

#### æŒçºŒç›£æ§å„€è¡¨æ¿

```markdown
ğŸ“ˆ å“è³ªå„€è¡¨æ¿æŒ‡æ¨™
- ç¨‹å¼ç¢¼è¦†è“‹ç‡è¶¨å‹¢
- æŠ€è¡“å‚µå‹™è¶¨å‹¢
- ç¨‹å¼ç¢¼é‡è¤‡ç‡
- å¾ªç’°è¤‡é›œåº¦
- å®‰å…¨æ¼æ´æ•¸é‡
- å¯é æ€§ç­‰ç´š
- å¯ç¶­è­·æ€§ç­‰ç´š
```

---

## 7. æ¸¬è©¦èˆ‡ CI/CDã€ç‰ˆæœ¬æ§ç®¡ã€DevOps çš„é—œè¯

### 7.1 ç‰ˆæœ¬æ§ç®¡æ•´åˆ

#### Git Hook è¨­å®š

```bash
#!/bin/sh
# pre-commit hook
echo "åŸ·è¡Œç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥..."

# åŸ·è¡Œå–®å…ƒæ¸¬è©¦
mvn test
if [ $? -ne 0 ]; then
    echo "âŒ å–®å…ƒæ¸¬è©¦å¤±æ•—ï¼Œè«‹ä¿®æ­£å¾Œå†æäº¤"
    exit 1
fi

# åŸ·è¡Œç¨‹å¼ç¢¼é¢¨æ ¼æª¢æŸ¥
mvn checkstyle:check
if [ $? -ne 0 ]; then
    echo "âŒ ç¨‹å¼ç¢¼é¢¨æ ¼æª¢æŸ¥å¤±æ•—"
    exit 1
fi

echo "âœ… æ‰€æœ‰æª¢æŸ¥é€šéï¼Œå¯ä»¥æäº¤"
```

#### åˆ†æ”¯ç­–ç•¥èˆ‡æ¸¬è©¦

```mermaid
gitGraph
    commit id: "åˆå§‹æäº¤"
    branch develop
    checkout develop
    commit id: "åŠŸèƒ½é–‹ç™¼"
    commit id: "å–®å…ƒæ¸¬è©¦"
    branch feature/login
    checkout feature/login
    commit id: "ç™»å…¥åŠŸèƒ½"
    commit id: "ç™»å…¥æ¸¬è©¦"
    checkout develop
    merge feature/login
    commit id: "æ•´åˆæ¸¬è©¦"
    checkout main
    merge develop
    commit id: "ç™¼å¸ƒæ¸¬è©¦"
```

### 7.2 CI/CD æµæ°´ç·šè¨­è¨ˆ

#### Jenkins Pipeline

```groovy
pipeline {
    agent any
    
    stages {
        stage('Checkout') {
            steps {
                git branch: 'main', url: 'https://github.com/example/java-tutorial.git'
            }
        }
        
        stage('Unit Tests') {
            steps {
                sh 'mvn clean test'
            }
            post {
                always {
                    junit 'target/surefire-reports/*.xml'
                    publishHTML([
                        allowMissing: false,
                        alwaysLinkToLastBuild: true,
                        keepAll: true,
                        reportDir: 'target/site/jacoco',
                        reportFiles: 'index.html',
                        reportName: 'Coverage Report'
                    ])
                }
            }
        }
        
        stage('Integration Tests') {
            steps {
                sh 'mvn verify -Pintegration-tests'
            }
        }
        
        stage('Code Quality') {
            steps {
                sh 'mvn sonar:sonar'
            }
        }
        
        stage('Security Scan') {
            steps {
                sh 'mvn dependency-check:check'
            }
        }
        
        stage('Build & Package') {
            steps {
                sh 'mvn package -DskipTests'
                archiveArtifacts artifacts: 'target/*.jar', fingerprint: true
            }
        }
        
        stage('Deploy to Staging') {
            when {
                branch 'develop'
            }
            steps {
                sh 'docker build -t app:staging .'
                sh 'docker run -d --name staging-app app:staging'
            }
        }
        
        stage('Smoke Tests') {
            when {
                branch 'develop'
            }
            steps {
                sh 'mvn test -Dtest=SmokeTests'
            }
        }
        
        stage('Deploy to Production') {
            when {
                branch 'main'
            }
            steps {
                input message: 'ç¢ºèªéƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒï¼Ÿ'
                sh 'kubectl apply -f k8s-deployment.yaml'
            }
        }
    }
    
    post {
        failure {
            emailext (
                subject: "å»ºç½®å¤±æ•—: ${env.JOB_NAME} - ${env.BUILD_NUMBER}",
                body: "å»ºç½®å¤±æ•—ï¼Œè«‹æª¢æŸ¥: ${env.BUILD_URL}",
                to: "${env.CHANGE_AUTHOR_EMAIL}"
            )
        }
    }
}
```

### 7.3 ç’°å¢ƒç®¡ç†

#### æ¸¬è©¦ç’°å¢ƒé…ç½®

```yaml
# docker-compose.test.yml
version: '3.8'
services:
  app:
    build: .
    environment:
      - SPRING_PROFILES_ACTIVE=test
      - DATABASE_URL=jdbc:h2:mem:testdb
    depends_on:
      - test-db
      
  test-db:
    image: h2:latest
    environment:
      - H2_OPTIONS=-ifNotExists
    ports:
      - "9092:9092"
      
  selenium-hub:
    image: selenium/hub:latest
    ports:
      - "4444:4444"
      
  chrome:
    image: selenium/node-chrome:latest
    depends_on:
      - selenium-hub
    environment:
      - HUB_HOST=selenium-hub
```

#### ç’°å¢ƒéš”é›¢ç­–ç•¥

```markdown
ğŸ—ï¸ ç’°å¢ƒå±¤ç´š
1. é–‹ç™¼ç’°å¢ƒ (DEV)
   - é–‹ç™¼äººå“¡æœ¬åœ°æ¸¬è©¦
   - å¿«é€Ÿåé¥‹å¾ªç’°

2. æ¸¬è©¦ç’°å¢ƒ (TEST)
   - è‡ªå‹•åŒ–æ¸¬è©¦åŸ·è¡Œ
   - æŒçºŒæ•´åˆæ¸¬è©¦

3. é ç™¼å¸ƒç’°å¢ƒ (STAGING)
   - é¡ç”Ÿç”¢ç’°å¢ƒæ¸¬è©¦
   - æ•ˆèƒ½å’Œè² è¼‰æ¸¬è©¦

4. ç”Ÿç”¢ç’°å¢ƒ (PROD)
   - çœŸå¯¦ä½¿ç”¨è€…ç’°å¢ƒ
   - ç›£æ§å’Œå‘Šè­¦
```

### 7.4 DevOps æœ€ä½³å¯¦å‹™

#### ç›£æ§èˆ‡æ—¥èªŒ

```java
// æ‡‰ç”¨ç¨‹å¼ç›£æ§
@RestController
public class HealthController {
    
    @Autowired
    private DatabaseHealthIndicator dbHealth;
    
    @GetMapping("/health")
    public ResponseEntity<Map<String, String>> health() {
        Map<String, String> status = new HashMap<>();
        
        // æª¢æŸ¥è³‡æ–™åº«é€£ç·š
        if (dbHealth.isHealthy()) {
            status.put("database", "UP");
        } else {
            status.put("database", "DOWN");
            return ResponseEntity.status(503).body(status);
        }
        
        status.put("status", "UP");
        return ResponseEntity.ok(status);
    }
}
```

#### å›æ»¾ç­–ç•¥

```bash
#!/bin/bash
# è‡ªå‹•å›æ»¾è…³æœ¬
CURRENT_VERSION=$(kubectl get deployment app -o jsonpath='{.spec.template.spec.containers[0].image}')
PREVIOUS_VERSION=$(kubectl rollout history deployment/app | tail -2 | head -1 | awk '{print $1}')

echo "æª¢æ¸¬åˆ°éƒ¨ç½²å•é¡Œï¼Œé–‹å§‹å›æ»¾..."
echo "ç•¶å‰ç‰ˆæœ¬: $CURRENT_VERSION"
echo "å›æ»¾åˆ°ç‰ˆæœ¬: $PREVIOUS_VERSION"

kubectl rollout undo deployment/app --to-revision=$PREVIOUS_VERSION

# ç­‰å¾…å›æ»¾å®Œæˆ
kubectl rollout status deployment/app

# é©—è­‰å›æ»¾æˆåŠŸ
if curl -f http://app/health > /dev/null 2>&1; then
    echo "âœ… å›æ»¾æˆåŠŸ"
else
    echo "âŒ å›æ»¾å¤±æ•—"
    exit 1
fi
```

---

## 8. å®‰å…¨æ€§æ¸¬è©¦èˆ‡åˆè¦æ€§é©—è­‰

### 8.1 å®‰å…¨æ€§æ¸¬è©¦é¡å‹

#### èªè­‰èˆ‡æˆæ¬Šæ¸¬è©¦

```java
// èªè­‰æ¸¬è©¦ç¯„ä¾‹
@Test
@WithMockUser(roles = "USER")
void testUserAccess_WithUserRole_ShouldAllowAccess() {
    mockMvc.perform(get("/api/user/profile"))
        .andExpect(status().isOk());
}

@Test
@WithMockUser(roles = "ADMIN")
void testAdminAccess_WithAdminRole_ShouldAllowAccess() {
    mockMvc.perform(delete("/api/users/1"))
        .andExpect(status().isOk());
}

@Test
void testUnauthorizedAccess_ShouldReturn401() {
    mockMvc.perform(get("/api/admin/users"))
        .andExpect(status().isUnauthorized());
}
```

#### è¼¸å…¥é©—è­‰æ¸¬è©¦

```java
// SQL æ³¨å…¥é˜²è­·æ¸¬è©¦
@Test
void testSqlInjection_ShouldBePrevented() {
    String maliciousInput = "'; DROP TABLE users; --";
    
    assertThrows(ValidationException.class, () -> {
        userService.findByUsername(maliciousInput);
    });
}

// XSS é˜²è­·æ¸¬è©¦
@Test
void testXssAttack_ShouldBeSanitized() {
    String maliciousScript = "<script>alert('XSS')</script>";
    User user = new User();
    user.setName(maliciousScript);
    
    // é©—è­‰è¼¸å…¥è¢«é©ç•¶æ¸…ç†
    String sanitized = htmlSanitizer.sanitize(user.getName());
    assertFalse(sanitized.contains("<script>"));
}
```

#### è³‡æ–™åŠ å¯†æ¸¬è©¦

```java
// å¯†ç¢¼åŠ å¯†æ¸¬è©¦
@Test
void testPasswordEncryption() {
    String plainPassword = "myPassword123";
    String hashedPassword = passwordEncoder.encode(plainPassword);
    
    // é©—è­‰å¯†ç¢¼å·²åŠ å¯†
    assertNotEquals(plainPassword, hashedPassword);
    assertTrue(passwordEncoder.matches(plainPassword, hashedPassword));
}

// æ•æ„Ÿè³‡æ–™åŠ å¯†æ¸¬è©¦
@Test
void testSensitiveDataEncryption() {
    String creditCard = "1234-5678-9012-3456";
    String encrypted = dataEncryption.encrypt(creditCard);
    
    // é©—è­‰åŠ å¯†å¾Œè³‡æ–™ç„¡æ³•ç›´æ¥è­˜åˆ¥
    assertNotEquals(creditCard, encrypted);
    assertEquals(creditCard, dataEncryption.decrypt(encrypted));
}
```

### 8.2 OWASP Top 10 æ¸¬è©¦è¦†è“‹

#### A01:2021 - å­˜å–æ§åˆ¶ç ´æ

```java
@Test
void testHorizontalPrivilegeEscalation() {
    // æ¸¬è©¦ä½¿ç”¨è€…æ˜¯å¦èƒ½å­˜å–å…¶ä»–ä½¿ç”¨è€…çš„è³‡æ–™
    User user1 = createTestUser("user1");
    User user2 = createTestUser("user2");
    
    // user1 å˜—è©¦å­˜å– user2 çš„è³‡æ–™
    assertThrows(UnauthorizedException.class, () -> {
        userService.getUserProfile(user2.getId(), user1.getToken());
    });
}
```

#### A02:2021 - åŠ å¯†å¤±æ•ˆ

```java
@Test
void testDataTransmissionSecurity() {
    // é©—è­‰ HTTPS å¼·åˆ¶ä½¿ç”¨
    mockMvc.perform(get("/api/login").secure(false))
        .andExpect(status().is3xxRedirection())
        .andExpect(header().string("Location", containsString("https://")));
}
```

#### A03:2021 - æ³¨å…¥æ”»æ“Š

```java
@Test
void testParameterizedQueries() {
    // é©—è­‰ä½¿ç”¨åƒæ•¸åŒ–æŸ¥è©¢é˜²æ­¢ SQL æ³¨å…¥
    String suspiciousInput = "1' OR '1'='1";
    
    List<User> users = userRepository.findByStatus(suspiciousInput);
    // æ‡‰è©²å›å‚³ç©ºçµæœï¼Œè€Œä¸æ˜¯æ‰€æœ‰ä½¿ç”¨è€…
    assertTrue(users.isEmpty());
}
```

### 8.3 å®‰å…¨æ¸¬è©¦å·¥å…·èˆ‡æŠ€è¡“

#### OWASP ZAP è‡ªå‹•åŒ–æƒæ

```yaml
# GitHub Actions ä¸­æ•´åˆ ZAP æƒæ
security-scan:
  runs-on: ubuntu-latest
  steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Start application
      run: |
        mvn spring-boot:run &
        sleep 30
        
    - name: Run ZAP baseline scan
      uses: zaproxy/action-baseline@v0.7.0
      with:
        target: 'http://localhost:8080'
        rules_file_name: '.zap/rules.tsv'
        
    - name: Upload ZAP results
      uses: actions/upload-artifact@v3
      with:
        name: zap-report
        path: report_html.html
```

#### SonarQube å®‰å…¨è¦å‰‡

```xml
<!-- pom.xml ä¸­é…ç½® SonarQube å®‰å…¨è¦å‰‡ -->
<plugin>
    <groupId>org.sonarsource.scanner.maven</groupId>
    <artifactId>sonar-maven-plugin</artifactId>
    <configuration>
        <sonar.security.hotspots.inheritFromParent>true</sonar.security.hotspots.inheritFromParent>
        <sonar.security.review.rating>A</sonar.security.review.rating>
    </configuration>
</plugin>
```

### 8.4 åˆè¦æ€§æ¸¬è©¦

#### GDPR åˆè¦æ€§æ¸¬è©¦

```java
@Test
void testDataDeletionCompliance() {
    // æ¸¬è©¦ã€Œè¢«éºå¿˜æ¬Šã€å¯¦ç¾
    User user = createTestUser();
    Long userId = user.getId();
    
    // ä½¿ç”¨è€…è«‹æ±‚åˆªé™¤è³‡æ–™
    userService.deleteUserData(userId);
    
    // é©—è­‰æ‰€æœ‰ç›¸é—œè³‡æ–™å·²åˆªé™¤
    assertNull(userRepository.findById(userId));
    assertTrue(auditLogRepository.findByUserId(userId).isEmpty());
    assertTrue(userPreferenceRepository.findByUserId(userId).isEmpty());
}

@Test
void testDataExportCompliance() {
    // æ¸¬è©¦ã€Œè³‡æ–™å¯æ”œæ¬Šã€å¯¦ç¾
    User user = createTestUser();
    
    UserDataExport export = userService.exportUserData(user.getId());
    
    // é©—è­‰åŒ¯å‡ºåŒ…å«æ‰€æœ‰ä½¿ç”¨è€…è³‡æ–™
    assertNotNull(export.getPersonalInfo());
    assertNotNull(export.getTransactionHistory());
    assertNotNull(export.getPreferences());
}
```

#### PCI DSS åˆè¦æ€§æ¸¬è©¦

```java
@Test
void testCreditCardDataHandling() {
    // æ¸¬è©¦ä¿¡ç”¨å¡è³‡æ–™ä¸è¢«è¨˜éŒ„æˆ–å„²å­˜
    String creditCard = "4111111111111111";
    
    PaymentRequest request = new PaymentRequest();
    request.setCreditCardNumber(creditCard);
    
    paymentService.processPayment(request);
    
    // é©—è­‰ä¿¡ç”¨å¡è™Ÿç¢¼æœªå„²å­˜åœ¨æ—¥èªŒæˆ–è³‡æ–™åº«ä¸­
    assertFalse(auditLogContains(creditCard));
    assertFalse(databaseContains(creditCard));
}
```

---

## 9. æ•ˆèƒ½æ¸¬è©¦èˆ‡æ•ˆèƒ½èª¿æ ¡

### 9.1 æ•ˆèƒ½æ¸¬è©¦ç­–ç•¥

#### æ•ˆèƒ½æ¸¬è©¦é‡‘å­—å¡”

```mermaid
graph TD
    A[è² è¼‰æ¸¬è©¦ Load Testing] --> B[åŸºç·šæ•ˆèƒ½å»ºç«‹]
    C[å£“åŠ›æ¸¬è©¦ Stress Testing] --> D[ç“¶é ¸è­˜åˆ¥]
    E[å°–å³°æ¸¬è©¦ Spike Testing] --> F[çªç™¼è² è¼‰è™•ç†]
    G[å®¹é‡æ¸¬è©¦ Volume Testing] --> H[è³‡æ–™é‡æ“´å±•æ€§]
    I[è€ä¹…æ¸¬è©¦ Endurance Testing] --> J[è¨˜æ†¶é«”æ´©æ¼æª¢æ¸¬]
```

#### JMeter æ¸¬è©¦è…³æœ¬ç¯„ä¾‹

```xml
<!-- JMeter æ¸¬è©¦è¨ˆç•« -->
<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2">
  <hashTree>
    <TestPlan testname="API Performance Test">
      <elementProp name="TestPlan.arguments" elementType="Arguments" guiclass="ArgumentsPanel">
        <collectionProp name="Arguments.arguments">
          <elementProp name="host" elementType="Argument">
            <stringProp name="Argument.name">host</stringProp>
            <stringProp name="Argument.value">localhost</stringProp>
          </elementProp>
          <elementProp name="port" elementType="Argument">
            <stringProp name="Argument.name">port</stringProp>
            <stringProp name="Argument.value">8080</stringProp>
          </elementProp>
        </collectionProp>
      </elementProp>
    </TestPlan>
    
    <hashTree>
      <ThreadGroup testname="User Load">
        <stringProp name="ThreadGroup.num_threads">100</stringProp>
        <stringProp name="ThreadGroup.ramp_time">60</stringProp>
        <stringProp name="ThreadGroup.duration">300</stringProp>
      </ThreadGroup>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
```

### 9.2 Java æ•ˆèƒ½æ¸¬è©¦å·¥å…·

#### JMH (Java Microbenchmark Harness)

```java
@BenchmarkMode(Mode.AverageTime)
@OutputTimeUnit(TimeUnit.MICROSECONDS)
@State(Scope.Benchmark)
public class PerformanceBenchmark {
    
    private List<Integer> numbers;
    
    @Setup
    public void setup() {
        numbers = IntStream.range(0, 1000)
            .boxed()
            .collect(Collectors.toList());
    }
    
    @Benchmark
    public long sumWithStream() {
        return numbers.stream()
            .mapToLong(Integer::longValue)
            .sum();
    }
    
    @Benchmark
    public long sumWithParallelStream() {
        return numbers.parallelStream()
            .mapToLong(Integer::longValue)
            .sum();
    }
    
    @Benchmark
    public long sumWithLoop() {
        long sum = 0;
        for (Integer number : numbers) {
            sum += number;
        }
        return sum;
    }
}
```

#### Gatling è² è¼‰æ¸¬è©¦

```scala
import io.gatling.core.Predef._
import io.gatling.http.Predef._
import scala.concurrent.duration._

class UserJourneySimulation extends Simulation {
  
  val httpProtocol = http
    .baseUrl("http://localhost:8080")
    .acceptHeader("application/json")
    .contentTypeHeader("application/json")
  
  val loginScenario = scenario("User Login Journey")
    .exec(
      http("Login")
        .post("/api/auth/login")
        .body(StringBody("""{"username":"testuser","password":"password"}"""))
        .check(status.is(200))
        .check(jsonPath("$.token").saveAs("authToken"))
    )
    .pause(1)
    .exec(
      http("Get Profile")
        .get("/api/user/profile")
        .header("Authorization", "Bearer ${authToken}")
        .check(status.is(200))
    )
    .pause(2)
    .exec(
      http("Update Profile")
        .put("/api/user/profile")
        .header("Authorization", "Bearer ${authToken}")
        .body(StringBody("""{"name":"Updated Name"}"""))
        .check(status.is(200))
    )
  
  setUp(
    loginScenario.inject(
      constantUsersPerSec(10) during(30 seconds),
      rampUsersPerSec(10) to(50) during(60 seconds),
      constantUsersPerSec(50) during(120 seconds)
    )
  ).protocols(httpProtocol)
}
```

### 9.3 æ•ˆèƒ½ç›£æ§èˆ‡åˆ†æ

#### æ‡‰ç”¨ç¨‹å¼æ•ˆèƒ½ç›£æ§ (APM)

```java
// ä½¿ç”¨ Micrometer é€²è¡Œæ•ˆèƒ½ç›£æ§
@RestController
public class UserController {
    
    private final MeterRegistry meterRegistry;
    private final Timer userCreationTimer;
    
    public UserController(MeterRegistry meterRegistry) {
        this.meterRegistry = meterRegistry;
        this.userCreationTimer = Timer.builder("user.creation.time")
            .description("Time taken to create a user")
            .register(meterRegistry);
    }
    
    @PostMapping("/users")
    public ResponseEntity<User> createUser(@RequestBody User user) {
        return userCreationTimer.recordCallable(() -> {
            User createdUser = userService.createUser(user);
            
            // è¨˜éŒ„æˆåŠŸå»ºç«‹ä½¿ç”¨è€…çš„è¨ˆæ•¸
            meterRegistry.counter("user.creation.success").increment();
            
            return ResponseEntity.status(HttpStatus.CREATED).body(createdUser);
        });
    }
}
```

#### è³‡æ–™åº«æ•ˆèƒ½æ¸¬è©¦

```java
@Test
void testDatabasePerformance() {
    // æ¸¬è©¦å¤§é‡è³‡æ–™æŸ¥è©¢æ•ˆèƒ½
    StopWatch stopWatch = new StopWatch();
    stopWatch.start();
    
    List<User> users = userRepository.findActiveUsers();
    
    stopWatch.stop();
    long executionTime = stopWatch.getTotalTimeMillis();
    
    // é©—è­‰æŸ¥è©¢æ™‚é–“åœ¨å¯æ¥å—ç¯„åœå…§
    assertTrue(executionTime < 1000, "æŸ¥è©¢æ™‚é–“è¶…é 1 ç§’: " + executionTime + "ms");
    assertFalse(users.isEmpty(), "æ‡‰è©²æŸ¥è©¢åˆ°æ´»èºä½¿ç”¨è€…");
}

@Test
void testConcurrentDatabaseAccess() {
    int threadCount = 10;
    ExecutorService executor = Executors.newFixedThreadPool(threadCount);
    CountDownLatch latch = new CountDownLatch(threadCount);
    AtomicInteger successCount = new AtomicInteger(0);
    
    for (int i = 0; i < threadCount; i++) {
        final int userId = i;
        executor.submit(() -> {
            try {
                User user = userService.getUser((long) userId);
                if (user != null) {
                    successCount.incrementAndGet();
                }
            } finally {
                latch.countDown();
            }
        });
    }
    
    await().atMost(5, TimeUnit.SECONDS).until(() -> latch.getCount() == 0);
    
    // é©—è­‰ä¸¦ç™¼å­˜å–çš„æˆåŠŸç‡
    assertTrue(successCount.get() >= threadCount * 0.9, 
        "ä¸¦ç™¼å­˜å–æˆåŠŸç‡ä½æ–¼ 90%");
}
```

### 9.4 æ•ˆèƒ½èª¿æ ¡ç­–ç•¥

#### JVM èª¿æ ¡

```bash
# JVM æ•ˆèƒ½èª¿æ ¡åƒæ•¸ç¯„ä¾‹
java -Xms2g -Xmx4g \
     -XX:+UseG1GC \
     -XX:MaxGCPauseMillis=200 \
     -XX:+PrintGCDetails \
     -XX:+PrintGCTimeStamps \
     -XX:+UseStringDeduplication \
     -Djava.awt.headless=true \
     -Dspring.profiles.active=production \
     -jar application.jar
```

#### å¿«å–ç­–ç•¥æ¸¬è©¦

```java
@Test
void testCachePerformance() {
    // ç¬¬ä¸€æ¬¡æŸ¥è©¢ - ç„¡å¿«å–
    StopWatch stopWatch = new StopWatch();
    stopWatch.start();
    User user1 = userService.getUser(1L);
    stopWatch.stop();
    long firstCallTime = stopWatch.getTotalTimeMillis();
    
    // ç¬¬äºŒæ¬¡æŸ¥è©¢ - æ‡‰è©²å¾å¿«å–å–å¾—
    stopWatch.restart();
    User user2 = userService.getUser(1L);
    stopWatch.stop();
    long secondCallTime = stopWatch.getTotalTimeMillis();
    
    // é©—è­‰å¿«å–æ•ˆæœ
    assertEquals(user1.getId(), user2.getId());
    assertTrue(secondCallTime < firstCallTime * 0.1, 
        "å¿«å–æŸ¥è©¢æ‡‰è©²æ¯”è³‡æ–™åº«æŸ¥è©¢å¿« 10 å€ä»¥ä¸Š");
}
```

---

## 10. æ¸¬è©¦è³‡æ–™ç®¡ç†èˆ‡éš±ç§ä¿è­·

### 10.1 æ¸¬è©¦è³‡æ–™ç­–ç•¥

#### æ¸¬è©¦è³‡æ–™åˆ†é¡

```markdown
ğŸ“Š æ¸¬è©¦è³‡æ–™åˆ†é¡

ã€çœŸå¯¦è³‡æ–™ (Production Data)ã€‘
- å„ªé»ï¼šæœ€æ¥è¿‘çœŸå¯¦ä½¿ç”¨æƒ…æ³
- ç¼ºé»ï¼šéš±ç§é¢¨éšªã€æ³•è¦é™åˆ¶
- é©ç”¨ï¼šæ•ˆèƒ½æ¸¬è©¦ã€ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦

ã€åŒ¿ååŒ–è³‡æ–™ (Anonymized Data)ã€‘
- å„ªé»ï¼šä¿è­·éš±ç§ï¼Œè³‡æ–™çµæ§‹çœŸå¯¦
- ç¼ºé»ï¼šå¯èƒ½å½±éŸ¿æ¸¬è©¦æœ‰æ•ˆæ€§
- é©ç”¨ï¼šæ•´åˆæ¸¬è©¦ã€ç³»çµ±æ¸¬è©¦

ã€åˆæˆè³‡æ–™ (Synthetic Data)ã€‘
- å„ªé»ï¼šç„¡éš±ç§å•é¡Œï¼Œå¯å¤§é‡ç”¢ç”Ÿ
- ç¼ºé»ï¼šå¯èƒ½ç„¡æ³•åæ˜ çœŸå¯¦æƒ…æ³
- é©ç”¨ï¼šå–®å…ƒæ¸¬è©¦ã€è² è¼‰æ¸¬è©¦

ã€å­é›†è³‡æ–™ (Subset Data)ã€‘
- å„ªé»ï¼šçœŸå¯¦ä½†æ•¸é‡è¼ƒå°‘
- ç¼ºé»ï¼šå¯èƒ½ç¼ºå°‘é‚Šç•Œæƒ…æ³
- é©ç”¨ï¼šé–‹ç™¼æ¸¬è©¦ã€åŠŸèƒ½æ¸¬è©¦
```

#### æ¸¬è©¦è³‡æ–™å»ºç«‹å™¨æ¨¡å¼

```java
public class TestDataBuilder {
    
    // ä½¿ç”¨ Builder æ¨¡å¼å»ºç«‹æ¸¬è©¦è³‡æ–™
    public static class UserBuilder {
        private User user = new User();
        
        public UserBuilder withName(String name) {
            user.setName(name);
            return this;
        }
        
        public UserBuilder withEmail(String email) {
            user.setEmail(email);
            return this;
        }
        
        public UserBuilder withAge(int age) {
            user.setAge(age);
            return this;
        }
        
        public UserBuilder asAdmin() {
            user.setRole(Role.ADMIN);
            return this;
        }
        
        public UserBuilder asActiveUser() {
            user.setStatus(UserStatus.ACTIVE);
            user.setLastLoginDate(LocalDateTime.now());
            return this;
        }
        
        public User build() {
            // è¨­å®šé è¨­å€¼
            if (user.getName() == null) {
                user.setName("TestUser_" + System.currentTimeMillis());
            }
            if (user.getEmail() == null) {
                user.setEmail(user.getName().toLowerCase() + "@test.com");
            }
            if (user.getRole() == null) {
                user.setRole(Role.USER);
            }
            return user;
        }
    }
    
    public static UserBuilder aUser() {
        return new UserBuilder();
    }
    
    // é å®šç¾©å¸¸ç”¨æ¸¬è©¦è³‡æ–™
    public static User createValidUser() {
        return aUser()
            .withName("John Doe")
            .withEmail("john.doe@example.com")
            .withAge(30)
            .asActiveUser()
            .build();
    }
    
    public static User createAdminUser() {
        return aUser()
            .withName("Admin User")
            .withEmail("admin@example.com")
            .asAdmin()
            .asActiveUser()
            .build();
    }
}

// ä½¿ç”¨ç¯„ä¾‹
@Test
void testUserCreation() {
    User user = TestDataBuilder.aUser()
        .withName("Test User")
        .withEmail("test@example.com")
        .withAge(25)
        .build();
    
    User saved = userService.save(user);
    assertNotNull(saved.getId());
}
```

### 10.2 è³‡æ–™åŒ¿ååŒ–æŠ€è¡“

#### è³‡æ–™é®ç½©æŠ€è¡“

```java
public class DataMasker {
    
    // é›»å­éƒµä»¶é®ç½©
    public static String maskEmail(String email) {
        if (email == null || !email.contains("@")) {
            return email;
        }
        
        String[] parts = email.split("@");
        String username = parts[0];
        String domain = parts[1];
        
        if (username.length() <= 2) {
            return "**@" + domain;
        }
        
        return username.charAt(0) + 
               "*".repeat(username.length() - 2) + 
               username.charAt(username.length() - 1) + 
               "@" + domain;
    }
    
    // é›»è©±è™Ÿç¢¼é®ç½©
    public static String maskPhoneNumber(String phone) {
        if (phone == null || phone.length() < 4) {
            return phone;
        }
        
        return phone.substring(0, 3) + 
               "*".repeat(phone.length() - 6) + 
               phone.substring(phone.length() - 3);
    }
    
    // ä¿¡ç”¨å¡è™Ÿç¢¼é®ç½©
    public static String maskCreditCard(String creditCard) {
        if (creditCard == null || creditCard.length() < 8) {
            return creditCard;
        }
        
        return "*".repeat(creditCard.length() - 4) + 
               creditCard.substring(creditCard.length() - 4);
    }
}

@Test
void testDataMasking() {
    assertEquals("j***e@example.com", 
        DataMasker.maskEmail("johndoe@example.com"));
    assertEquals("09*****789", 
        DataMasker.maskPhoneNumber("0912345789"));
    assertEquals("************3456", 
        DataMasker.maskCreditCard("1234567890123456"));
}
```

#### è³‡æ–™éš¨æ©ŸåŒ–

```java
public class DataRandomizer {
    private static final Random random = new Random();
    private static final String[] FIRST_NAMES = {
        "James", "Mary", "John", "Patricia", "Robert", "Jennifer"
    };
    private static final String[] LAST_NAMES = {
        "Smith", "Johnson", "Williams", "Brown", "Jones", "Garcia"
    };
    
    public static String randomName() {
        return FIRST_NAMES[random.nextInt(FIRST_NAMES.length)] + " " +
               LAST_NAMES[random.nextInt(LAST_NAMES.length)];
    }
    
    public static String randomEmail() {
        return "user" + random.nextInt(10000) + "@test.com";
    }
    
    public static LocalDate randomBirthDate() {
        int year = 1950 + random.nextInt(50);
        int month = 1 + random.nextInt(12);
        int day = 1 + random.nextInt(28);
        return LocalDate.of(year, month, day);
    }
    
    public static String randomPhoneNumber() {
        return String.format("09%08d", random.nextInt(100000000));
    }
}
```

### 10.3 æ¸¬è©¦è³‡æ–™ç”Ÿå‘½é€±æœŸç®¡ç†

#### è³‡æ–™åº«æ¸¬è©¦è³‡æ–™ç®¡ç†

```java
@TestConfiguration
public class TestDataConfiguration {
    
    @Bean
    @Primary
    public DataSource testDataSource() {
        // ä½¿ç”¨ H2 è¨˜æ†¶é«”è³‡æ–™åº«é€²è¡Œæ¸¬è©¦
        HikariConfig config = new HikariConfig();
        config.setJdbcUrl("jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1");
        config.setUsername("sa");
        config.setPassword("");
        return new HikariDataSource(config);
    }
}

@Sql(scripts = "/test-data.sql", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)
@Sql(scripts = "/cleanup.sql", executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)
@Test
void testWithTestData() {
    // æ¸¬è©¦é‚è¼¯
}
```

#### TestContainers æ•´åˆ

```java
@Testcontainers
class DatabaseIntegrationTest {
    
    @Container
    static PostgreSQLContainer<?> postgres = new PostgreSQLContainer<>("postgres:13")
            .withDatabaseName("testdb")
            .withUsername("test")
            .withPassword("test")
            .withInitScript("init-test-data.sql");
    
    @DynamicPropertySource
    static void properties(DynamicPropertyRegistry registry) {
        registry.add("spring.datasource.url", postgres::getJdbcUrl);
        registry.add("spring.datasource.username", postgres::getUsername);
        registry.add("spring.datasource.password", postgres::getPassword);
    }
    
    @Test
    void testDatabaseOperations() {
        // æ¸¬è©¦é‚è¼¯ï¼Œä½¿ç”¨çœŸå¯¦çš„ PostgreSQL å®¹å™¨
    }
}
```

### 10.4 éš±ç§ä¿è­·èˆ‡æ³•è¦éµå¾ª

#### GDPR åˆè¦æ¸¬è©¦è³‡æ–™ç®¡ç†

```java
@Component
public class TestDataCleanupService {
    
    @EventListener
    public void handleTestCompletion(TestExecutionEvent event) {
        if (event.getType() == TestExecutionEvent.Type.FINISHED) {
            cleanupTestData();
        }
    }
    
    private void cleanupTestData() {
        // æ¸…ç†æ‰€æœ‰æ¸¬è©¦ç›¸é—œçš„å€‹äººè³‡æ–™
        userRepository.deleteByEmailContaining("@test.com");
        auditLogRepository.deleteByCreatedDateBefore(
            LocalDateTime.now().minusHours(1));
    }
    
    @Scheduled(cron = "0 0 2 * * ?") // æ¯å¤©å‡Œæ™¨ 2 é»åŸ·è¡Œ
    public void scheduledCleanup() {
        cleanupTestData();
    }
}
```

#### è³‡æ–™ä¿ç•™æ”¿ç­–

```yaml
# application-test.yml
test:
  data:
    retention:
      personal-data: PT24H  # å€‹äººè³‡æ–™ä¿ç•™ 24 å°æ™‚
      transaction-data: P7D  # äº¤æ˜“è³‡æ–™ä¿ç•™ 7 å¤©
      audit-logs: P30D       # ç¨½æ ¸æ—¥èªŒä¿ç•™ 30 å¤©
    
    anonymization:
      enabled: true
      fields:
        - email
        - phone
        - address
        - credit-card
```

---

## 11. è·¨ç€è¦½å™¨èˆ‡è·¨å¹³å°æ¸¬è©¦

### 11.1 ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦ç­–ç•¥

#### ç€è¦½å™¨æ¸¬è©¦çŸ©é™£

```markdown
ğŸ“± æ”¯æ´çš„ç€è¦½å™¨èˆ‡ç‰ˆæœ¬

ã€æ¡Œé¢ç€è¦½å™¨ã€‘
- Chrome: æœ€æ–°ç‰ˆæœ¬ + å‰å…©å€‹ç‰ˆæœ¬
- Firefox: æœ€æ–°ç‰ˆæœ¬ + ESR ç‰ˆæœ¬
- Safari: macOS æœ€æ–°ç‰ˆæœ¬
- Edge: æœ€æ–°ç‰ˆæœ¬

ã€è¡Œå‹•ç€è¦½å™¨ã€‘
- Chrome Mobile: Android 8.0+
- Safari Mobile: iOS 14.0+
- Samsung Internet: æœ€æ–°ç‰ˆæœ¬

ã€æ¸¬è©¦å„ªå…ˆé †åºã€‘
1. Chrome Desktop (80% ä½¿ç”¨è€…)
2. Safari Mobile (10% ä½¿ç”¨è€…)
3. Firefox Desktop (5% ä½¿ç”¨è€…)
4. Edge Desktop (3% ä½¿ç”¨è€…)
5. å…¶ä»–ç€è¦½å™¨ (2% ä½¿ç”¨è€…)
```

#### Selenium WebDriver è·¨ç€è¦½å™¨æ¸¬è©¦

```java
public class CrossBrowserTestBase {
    protected WebDriver driver;
    
    @ParameterizedTest
    @MethodSource("browserProvider")
    void testLoginFunctionality(String browserName) {
        driver = createDriver(browserName);
        
        try {
            LoginPage loginPage = new LoginPage(driver);
            loginPage.navigate();
            loginPage.login("testuser", "password");
            
            DashboardPage dashboard = new DashboardPage(driver);
            assertTrue(dashboard.isDisplayed());
        } finally {
            if (driver != null) {
                driver.quit();
            }
        }
    }
    
    static Stream<String> browserProvider() {
        return Stream.of("chrome", "firefox", "safari", "edge");
    }
    
    private WebDriver createDriver(String browserName) {
        switch (browserName.toLowerCase()) {
            case "chrome":
                ChromeOptions chromeOptions = new ChromeOptions();
                chromeOptions.addArguments("--headless", "--no-sandbox");
                return new ChromeDriver(chromeOptions);
                
            case "firefox":
                FirefoxOptions firefoxOptions = new FirefoxOptions();
                firefoxOptions.setHeadless(true);
                return new FirefoxDriver(firefoxOptions);
                
            case "safari":
                return new SafariDriver();
                
            case "edge":
                EdgeOptions edgeOptions = new EdgeOptions();
                edgeOptions.addArguments("--headless");
                return new EdgeDriver(edgeOptions);
                
            default:
                throw new IllegalArgumentException("ä¸æ”¯æ´çš„ç€è¦½å™¨: " + browserName);
        }
    }
}
```

#### Selenium Grid é…ç½®

```yaml
# docker-compose.selenium.yml
version: '3.8'
services:
  selenium-hub:
    image: selenium/hub:latest
    container_name: selenium-hub
    ports:
      - "4444:4444"
    environment:
      - GRID_MAX_SESSION=10
      - GRID_BROWSER_TIMEOUT=300
      
  chrome:
    image: selenium/node-chrome:latest
    shm_size: 2gb
    depends_on:
      - selenium-hub
    environment:
      - HUB_HOST=selenium-hub
      - NODE_MAX_INSTANCES=3
      - NODE_MAX_SESSION=3
    scale: 2
    
  firefox:
    image: selenium/node-firefox:latest
    shm_size: 2gb
    depends_on:
      - selenium-hub
    environment:
      - HUB_HOST=selenium-hub
      - NODE_MAX_INSTANCES=3
      - NODE_MAX_SESSION=3
    scale: 1
    
  edge:
    image: selenium/node-edge:latest
    shm_size: 2gb
    depends_on:
      - selenium-hub
    environment:
      - HUB_HOST=selenium-hub
      - NODE_MAX_INSTANCES=3
      - NODE_MAX_SESSION=3
    scale: 1
```

### 11.2 è¡Œå‹•è£ç½®æ¸¬è©¦

#### Appium è¡Œå‹•æ‡‰ç”¨æ¸¬è©¦

```java
public class MobileWebTest {
    private AppiumDriver driver;
    
    @BeforeEach
    void setup() {
        DesiredCapabilities caps = new DesiredCapabilities();
        caps.setCapability(MobileCapabilityType.PLATFORM_NAME, "Android");
        caps.setCapability(MobileCapabilityType.DEVICE_NAME, "Android Emulator");
        caps.setCapability(MobileCapabilityType.BROWSER_NAME, "Chrome");
        caps.setCapability(MobileCapabilityType.NEW_COMMAND_TIMEOUT, 300);
        
        try {
            driver = new AndroidDriver(new URL("http://localhost:4723/wd/hub"), caps);
        } catch (MalformedURLException e) {
            throw new RuntimeException("ç„¡æ³•å»ºç«‹ Appium é€£ç·š", e);
        }
    }
    
    @Test
    void testMobileWebLogin() {
        driver.get("https://example.com/login");
        
        // è¡Œå‹•ç‰ˆç‰¹å®šæ¸¬è©¦
        WebElement usernameField = driver.findElement(By.id("username"));
        WebElement passwordField = driver.findElement(By.id("password"));
        WebElement loginButton = driver.findElement(By.id("login-btn"));
        
        // æ¸¬è©¦è§¸æ§æ“ä½œ
        TouchAction touchAction = new TouchAction(driver);
        touchAction.tap(PointOption.point(usernameField.getCenter())).perform();
        
        usernameField.sendKeys("testuser");
        passwordField.sendKeys("password");
        loginButton.click();
        
        // é©—è­‰ç™»å…¥æˆåŠŸ
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));
        wait.until(ExpectedConditions.urlContains("/dashboard"));
    }
    
    @AfterEach
    void teardown() {
        if (driver != null) {
            driver.quit();
        }
    }
}
```

#### éŸ¿æ‡‰å¼è¨­è¨ˆæ¸¬è©¦

```java
@Test
void testResponsiveDesign() {
    driver.get("https://example.com");
    
    // æ¸¬è©¦ä¸åŒè¢å¹•è§£æåº¦
    Dimension[] resolutions = {
        new Dimension(320, 568),   // iPhone SE
        new Dimension(375, 667),   // iPhone 8
        new Dimension(414, 896),   // iPhone 11
        new Dimension(768, 1024),  // iPad
        new Dimension(1920, 1080)  // Desktop
    };
    
    for (Dimension resolution : resolutions) {
        driver.manage().window().setSize(resolution);
        
        // é©—è­‰å°èˆªé¸å–®åœ¨ä¸åŒè§£æåº¦ä¸‹çš„é¡¯ç¤º
        WebElement navigation = driver.findElement(By.className("navigation"));
        assertTrue(navigation.isDisplayed(), 
            "å°èˆªé¸å–®åœ¨è§£æåº¦ " + resolution + " ä¸‹æ‡‰è©²å¯è¦‹");
        
        // é©—è­‰ä¸»è¦å…§å®¹å€åŸŸ
        WebElement mainContent = driver.findElement(By.className("main-content"));
        assertTrue(mainContent.getSize().width > 0, 
            "ä¸»è¦å…§å®¹åœ¨è§£æåº¦ " + resolution + " ä¸‹æ‡‰è©²æœ‰é©ç•¶å¯¬åº¦");
    }
}
```

### 11.3 è·¨å¹³å° API æ¸¬è©¦

#### REST API è·¨å¹³å°ç›¸å®¹æ€§

```java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class ApiCompatibilityTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @LocalServerPort
    private int port;
    
    @Test
    void testApiResponseFormat() {
        String url = "http://localhost:" + port + "/api/users";
        
        // æ¸¬è©¦ä¸åŒçš„ Accept header
        HttpHeaders headers = new HttpHeaders();
        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
        HttpEntity<String> entity = new HttpEntity<>(headers);
        
        ResponseEntity<String> response = restTemplate.exchange(
            url, HttpMethod.GET, entity, String.class);
        
        assertEquals(HttpStatus.OK, response.getStatusCode());
        assertEquals(MediaType.APPLICATION_JSON, response.getHeaders().getContentType());
        
        // é©—è­‰ JSON æ ¼å¼
        ObjectMapper mapper = new ObjectMapper();
        assertDoesNotThrow(() -> {
            JsonNode jsonNode = mapper.readTree(response.getBody());
            assertTrue(jsonNode.isArray());
        });
    }
    
    @Test
    void testApiVersioning() {
        // æ¸¬è©¦ API ç‰ˆæœ¬ç›¸å®¹æ€§
        String[] versions = {"v1", "v2"};
        
        for (String version : versions) {
            String url = "http://localhost:" + port + "/api/" + version + "/users";
            
            HttpHeaders headers = new HttpHeaders();
            headers.add("Accept", "application/vnd.api+" + version + "+json");
            HttpEntity<String> entity = new HttpEntity<>(headers);
            
            ResponseEntity<String> response = restTemplate.exchange(
                url, HttpMethod.GET, entity, String.class);
            
            assertTrue(response.getStatusCode().is2xxSuccessful(), 
                "API ç‰ˆæœ¬ " + version + " æ‡‰è©²æ­£å¸¸å›æ‡‰");
        }
    }
}
```

### 11.4 é›²ç«¯æ¸¬è©¦æœå‹™æ•´åˆ

#### BrowserStack æ•´åˆ

```java
public class BrowserStackTest {
    public static final String USERNAME = System.getenv("BROWSERSTACK_USERNAME");
    public static final String ACCESS_KEY = System.getenv("BROWSERSTACK_ACCESS_KEY");
    public static final String URL = "https://" + USERNAME + ":" + ACCESS_KEY + 
                                   "@hub-cloud.browserstack.com/wd/hub";
    
    @ParameterizedTest
    @MethodSource("browserStackCapabilities")
    void testOnBrowserStack(DesiredCapabilities capabilities) {
        WebDriver driver = null;
        try {
            driver = new RemoteWebDriver(new URL(URL), capabilities);
            
            driver.get("https://example.com");
            
            WebElement loginButton = driver.findElement(By.id("login"));
            assertTrue(loginButton.isDisplayed());
            
        } catch (MalformedURLException e) {
            fail("BrowserStack URL æ ¼å¼éŒ¯èª¤", e);
        } finally {
            if (driver != null) {
                driver.quit();
            }
        }
    }
    
    static Stream<DesiredCapabilities> browserStackCapabilities() {
        List<DesiredCapabilities> capsList = new ArrayList<>();
        
        // Windows 10 Chrome
        DesiredCapabilities caps1 = new DesiredCapabilities();
        caps1.setCapability("os", "Windows");
        caps1.setCapability("os_version", "10");
        caps1.setCapability("browser", "Chrome");
        caps1.setCapability("browser_version", "latest");
        capsList.add(caps1);
        
        // macOS Safari
        DesiredCapabilities caps2 = new DesiredCapabilities();
        caps2.setCapability("os", "OS X");
        caps2.setCapability("os_version", "Big Sur");
        caps2.setCapability("browser", "Safari");
        caps2.setCapability("browser_version", "latest");
        capsList.add(caps2);
        
        // iPhone Safari
        DesiredCapabilities caps3 = new DesiredCapabilities();
        caps3.setCapability("device", "iPhone 12");
        caps3.setCapability("os_version", "14");
        caps3.setCapability("real_mobile", "true");
        capsList.add(caps3);
        
        return capsList.stream();
    }
}
```

---

## 12. API æ¸¬è©¦èˆ‡å¾®æœå‹™æ¸¬è©¦ç­–ç•¥

### 12.1 RESTful API æ¸¬è©¦

#### REST Assured æ·±åº¦æ‡‰ç”¨

```java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class ApiIntegrationTest {
    
    @LocalServerPort
    private int port;
    
    @BeforeEach
    void setup() {
        RestAssured.port = port;
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
    }
    
    @Test
    void testUserCrudOperations() {
        // å»ºç«‹ä½¿ç”¨è€…
        ValidatableResponse createResponse = given()
            .contentType(ContentType.JSON)
            .body("""
                {
                    "name": "John Doe",
                    "email": "john@example.com",
                    "age": 30
                }
                """)
        .when()
            .post("/api/users")
        .then()
            .statusCode(201)
            .body("name", equalTo("John Doe"))
            .body("email", equalTo("john@example.com"))
            .body("id", notNullValue());
        
        // å–å¾—ä½¿ç”¨è€… ID
        String userId = createResponse.extract().path("id").toString();
        
        // æŸ¥è©¢ä½¿ç”¨è€…
        given()
            .pathParam("id", userId)
        .when()
            .get("/api/users/{id}")
        .then()
            .statusCode(200)
            .body("name", equalTo("John Doe"))
            .body("email", equalTo("john@example.com"));
        
        // æ›´æ–°ä½¿ç”¨è€…
        given()
            .contentType(ContentType.JSON)
            .pathParam("id", userId)
            .body("""
                {
                    "name": "Jane Doe",
                    "email": "jane@example.com",
                    "age": 32
                }
                """)
        .when()
            .put("/api/users/{id}")
        .then()
            .statusCode(200)
            .body("name", equalTo("Jane Doe"));
        
        // åˆªé™¤ä½¿ç”¨è€…
        given()
            .pathParam("id", userId)
        .when()
            .delete("/api/users/{id}")
        .then()
            .statusCode(204);
        
        // é©—è­‰ä½¿ç”¨è€…å·²åˆªé™¤
        given()
            .pathParam("id", userId)
        .when()
            .get("/api/users/{id}")
        .then()
            .statusCode(404);
    }
    
    @Test
    void testApiValidation() {
        // æ¸¬è©¦å¿…å¡«æ¬„ä½é©—è­‰
        given()
            .contentType(ContentType.JSON)
            .body("{}")
        .when()
            .post("/api/users")
        .then()
            .statusCode(400)
            .body("errors", hasSize(greaterThan(0)))
            .body("errors[0].field", anyOf(equalTo("name"), equalTo("email")));
        
        // æ¸¬è©¦æ ¼å¼é©—è­‰
        given()
            .contentType(ContentType.JSON)
            .body("""
                {
                    "name": "Test User",
                    "email": "invalid-email",
                    "age": -1
                }
                """)
        .when()
            .post("/api/users")
        .then()
            .statusCode(400)
            .body("errors", hasSize(2))
            .body("errors.field", hasItems("email", "age"));
    }
    
    @Test
    void testApiPagination() {
        // å»ºç«‹æ¸¬è©¦è³‡æ–™
        for (int i = 0; i < 25; i++) {
            given()
                .contentType(ContentType.JSON)
                .body(String.format("""
                    {
                        "name": "User %d",
                        "email": "user%d@example.com",
                        "age": %d
                    }
                    """, i, i, 20 + i))
            .when()
                .post("/api/users")
            .then()
                .statusCode(201);
        }
        
        // æ¸¬è©¦åˆ†é 
        given()
            .queryParam("page", 0)
            .queryParam("size", 10)
        .when()
            .get("/api/users")
        .then()
            .statusCode(200)
            .body("content", hasSize(10))
            .body("totalElements", greaterThanOrEqualTo(25))
            .body("totalPages", greaterThanOrEqualTo(3))
            .body("first", equalTo(true))
            .body("last", equalTo(false));
    }
}
```

#### GraphQL API æ¸¬è©¦

```java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class GraphQLApiTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @LocalServerPort
    private int port;
    
    @Test
    void testGraphQLQuery() {
        String query = """
            query GetUser($id: ID!) {
                user(id: $id) {
                    id
                    name
                    email
                    posts {
                        title
                        content
                    }
                }
            }
            """;
        
        Map<String, Object> variables = Map.of("id", "1");
        Map<String, Object> requestBody = Map.of(
            "query", query,
            "variables", variables
        );
        
        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.APPLICATION_JSON);
        HttpEntity<Map<String, Object>> entity = new HttpEntity<>(requestBody, headers);
        
        ResponseEntity<String> response = restTemplate.postForEntity(
            "http://localhost:" + port + "/graphql", entity, String.class);
        
        assertEquals(HttpStatus.OK, response.getStatusCode());
        
        // é©—è­‰å›æ‡‰çµæ§‹
        ObjectMapper mapper = new ObjectMapper();
        try {
            JsonNode jsonResponse = mapper.readTree(response.getBody());
            assertFalse(jsonResponse.has("errors"));
            assertTrue(jsonResponse.has("data"));
            assertTrue(jsonResponse.get("data").has("user"));
        } catch (Exception e) {
            fail("GraphQL å›æ‡‰æ ¼å¼éŒ¯èª¤", e);
        }
    }
    
    @Test
    void testGraphQLMutation() {
        String mutation = """
            mutation CreateUser($input: CreateUserInput!) {
                createUser(input: $input) {
                    id
                    name
                    email
                }
            }
            """;
        
        Map<String, Object> input = Map.of(
            "name", "New User",
            "email", "new@example.com"
        );
        Map<String, Object> variables = Map.of("input", input);
        Map<String, Object> requestBody = Map.of(
            "query", mutation,
            "variables", variables
        );
        
        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.APPLICATION_JSON);
        HttpEntity<Map<String, Object>> entity = new HttpEntity<>(requestBody, headers);
        
        ResponseEntity<String> response = restTemplate.postForEntity(
            "http://localhost:" + port + "/graphql", entity, String.class);
        
        assertEquals(HttpStatus.OK, response.getStatusCode());
    }
}
```

### 12.2 å¾®æœå‹™æ¸¬è©¦ç­–ç•¥

#### å¥‘ç´„æ¸¬è©¦ (Contract Testing)

```java
// Provider æ¸¬è©¦ (æœå‹™æä¾›è€…)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class UserServiceContractTest {
    
    @LocalServerPort
    private int port;
    
    @TestTemplate
    @ExtendWith(PactVerificationInvocationContextProvider.class)
    void pactVerificationTestTemplate(PactVerificationContext context) {
        context.verifyInteraction();
    }
    
    @BeforeEach
    void before(PactVerificationContext context) {
        context.setTarget(new HttpTestTarget("localhost", port));
    }
    
    @State("user with id 1 exists")
    void userExists() {
        // è¨­å®šæ¸¬è©¦è³‡æ–™ç‹€æ…‹
        User testUser = new User();
        testUser.setId(1L);
        testUser.setName("John Doe");
        testUser.setEmail("john@example.com");
        userRepository.save(testUser);
    }
    
    @State("no user exists")
    void noUserExists() {
        // æ¸…ç©ºæ¸¬è©¦è³‡æ–™
        userRepository.deleteAll();
    }
}

// Consumer æ¸¬è©¦ (æœå‹™æ¶ˆè²»è€…)
@ExtendWith(PactConsumerTestExt.class)
@PactTestFor(providerName = "user-service")
class UserServiceConsumerTest {
    
    @Pact(consumer = "order-service")
    public RequestResponsePact getUserPact(PactDslWithProvider builder) {
        return builder
            .given("user with id 1 exists")
            .uponReceiving("a request for user with id 1")
                .path("/api/users/1")
                .method("GET")
            .willRespondWith()
                .status(200)
                .headers(Map.of("Content-Type", "application/json"))
                .body(newJsonBody(body -> {
                    body.numberType("id", 1);
                    body.stringType("name", "John Doe");
                    body.stringType("email", "john@example.com");
                }).build())
            .toPact();
    }
    
    @Test
    @PactTestFor(pactMethod = "getUserPact")
    void testGetUser(MockServer mockServer) {
        UserServiceClient client = new UserServiceClient(mockServer.getUrl());
        User user = client.getUser(1L);
        
        assertEquals(1L, user.getId());
        assertEquals("John Doe", user.getName());
        assertEquals("john@example.com", user.getEmail());
    }
}
```

#### æœå‹™è™›æ“¬åŒ– (Service Virtualization)

```java
@Component
public class ExternalServiceMock {
    
    @MockBean
    private PaymentGatewayClient paymentGateway;
    
    @MockBean
    private NotificationServiceClient notificationService;
    
    @PostConstruct
    public void setupMocks() {
        // æ¨¡æ“¬æ”¯ä»˜é–˜é“å›æ‡‰
        when(paymentGateway.processPayment(any(PaymentRequest.class)))
            .thenAnswer(invocation -> {
                PaymentRequest request = invocation.getArgument(0);
                PaymentResponse response = new PaymentResponse();
                response.setTransactionId("TXN_" + System.currentTimeMillis());
                response.setStatus(PaymentStatus.SUCCESS);
                response.setAmount(request.getAmount());
                return response;
            });
        
        // æ¨¡æ“¬é€šçŸ¥æœå‹™
        when(notificationService.sendEmail(any(EmailRequest.class)))
            .thenReturn(CompletableFuture.completedFuture(
                NotificationResponse.success("EMAIL_SENT")));
    }
}

@Test
@MockBeans({
    @MockBean(ExternalServiceMock.class)
})
void testOrderProcessingWithMockedServices() {
    Order order = new Order();
    order.setUserId(1L);
    order.setAmount(new BigDecimal("100.00"));
    
    OrderResult result = orderService.processOrder(order);
    
    assertEquals(OrderStatus.COMPLETED, result.getStatus());
    assertNotNull(result.getTransactionId());
    
    // é©—è­‰å¤–éƒ¨æœå‹™æœ‰è¢«å‘¼å«
    verify(paymentGateway).processPayment(any(PaymentRequest.class));
    verify(notificationService).sendEmail(any(EmailRequest.class));
}
```

### 12.3 API æ•ˆèƒ½æ¸¬è©¦

#### JMeter API æ•ˆèƒ½æ¸¬è©¦

```xml
<!-- API è² è¼‰æ¸¬è©¦è¨ˆç•« -->
<TestPlan>
    <elementProp name="TestPlan.arguments" elementType="Arguments">
        <collectionProp name="Arguments.arguments">
            <elementProp name="baseUrl" elementType="Argument">
                <stringProp name="Argument.name">baseUrl</stringProp>
                <stringProp name="Argument.value">https://api.example.com</stringProp>
            </elementProp>
        </collectionProp>
    </elementProp>
    
    <ThreadGroup testname="API Load Test">
        <stringProp name="ThreadGroup.num_threads">50</stringProp>
        <stringProp name="ThreadGroup.ramp_time">60</stringProp>
        <stringProp name="ThreadGroup.duration">300</stringProp>
        
        <HTTPSamplerProxy testname="Create User API">
            <stringProp name="HTTPSampler.domain">${baseUrl}</stringProp>
            <stringProp name="HTTPSampler.path">/api/users</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{
                            "name": "Load Test User ${__threadNum}",
                            "email": "loadtest${__threadNum}@example.com"
                        }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                </collectionProp>
            </elementProp>
        </HTTPSamplerProxy>
    </ThreadGroup>
</TestPlan>
```

### 12.4 API å®‰å…¨æ¸¬è©¦

#### OWASP API å®‰å…¨æ¸¬è©¦

```java
@Test
void testApiRateLimit() {
    String endpoint = "/api/users";
    int requestLimit = 100;
    
    // å¿«é€Ÿç™¼é€å¤§é‡è«‹æ±‚æ¸¬è©¦é™æµ
    List<CompletableFuture<ResponseEntity<String>>> futures = new ArrayList<>();
    
    for (int i = 0; i < requestLimit + 10; i++) {
        CompletableFuture<ResponseEntity<String>> future = CompletableFuture.supplyAsync(() -> {
            return restTemplate.getForEntity(endpoint, String.class);
        });
        futures.add(future);
    }
    
    // ç­‰å¾…æ‰€æœ‰è«‹æ±‚å®Œæˆ
    List<ResponseEntity<String>> responses = futures.stream()
        .map(CompletableFuture::join)
        .collect(Collectors.toList());
    
    // é©—è­‰æœ‰éƒ¨åˆ†è«‹æ±‚è¢«é™æµ
    long tooManyRequestsCount = responses.stream()
        .mapToInt(response -> response.getStatusCodeValue())
        .filter(status -> status == 429)
        .count();
    
    assertTrue(tooManyRequestsCount > 0, "æ‡‰è©²æœ‰è«‹æ±‚å› ç‚ºè¶…éé™æµè€Œè¢«æ‹’çµ•");
}

@Test
void testApiAuthenticationBypass() {
    // æ¸¬è©¦æœªæˆæ¬Šå­˜å–
    ResponseEntity<String> response = restTemplate.getForEntity(
        "/api/admin/users", String.class);
    
    assertEquals(HttpStatus.UNAUTHORIZED, response.getStatusCode());
    
    // æ¸¬è©¦ç„¡æ•ˆ token
    HttpHeaders headers = new HttpHeaders();
    headers.setBearerAuth("invalid-token");
    HttpEntity<String> entity = new HttpEntity<>(headers);
    
    ResponseEntity<String> responseWithInvalidToken = restTemplate.exchange(
        "/api/admin/users", HttpMethod.GET, entity, String.class);
    
    assertEquals(HttpStatus.UNAUTHORIZED, responseWithInvalidToken.getStatusCode());
}
```

---

## 13. å¸¸è¦‹éŒ¯èª¤èˆ‡é¿å…æ–¹å¼

### 8.1 å–®å…ƒæ¸¬è©¦å¸¸è¦‹éŒ¯èª¤

#### éŒ¯èª¤ 1ï¼šæ¸¬è©¦éæ–¼ä¾è³´å¯¦ä½œç´°ç¯€

âŒ **éŒ¯èª¤ç¯„ä¾‹**
```java
@Test
void testUserService() {
    UserService service = new UserService();
    // éŒ¯èª¤ï¼šæ¸¬è©¦å…§éƒ¨å¯¦ä½œï¼Œè€Œéè¡Œç‚º
    assertTrue(service.userRepository != null);
    assertEquals("SELECT * FROM users", service.buildQuery());
}
```

âœ… **æ­£ç¢ºåšæ³•**
```java
@Test
void testGetUser_ValidId_ReturnsUser() {
    // æ­£ç¢ºï¼šæ¸¬è©¦å…¬é–‹è¡Œç‚ºå’Œçµæœ
    User user = userService.getUser(1L);
    assertNotNull(user);
    assertEquals("John Doe", user.getName());
}
```

#### éŒ¯èª¤ 2ï¼šæ¸¬è©¦å‘½åä¸æ¸…æ¥š

âŒ **éŒ¯èª¤ç¯„ä¾‹**
```java
@Test
void test1() { /* ç„¡æ³•ç†è§£æ¸¬è©¦ç›®çš„ */ }

@Test
void testUser() { /* éæ–¼ç± çµ± */ }
```

âœ… **æ­£ç¢ºåšæ³•**
```java
@Test
void shouldReturnUser_WhenValidIdProvided() { /* æ¸…æ¥šè¡¨é”æ¸¬è©¦æ„åœ– */ }

@Test
void shouldThrowException_WhenUserNotFound() { /* æè¿°æœŸæœ›è¡Œç‚º */ }
```

#### éŒ¯èª¤ 3ï¼šæ¸¬è©¦é–“ç›¸äº’ä¾è³´

âŒ **éŒ¯èª¤ç¯„ä¾‹**
```java
private static User createdUser;

@Test
@Order(1)
void testCreateUser() {
    createdUser = userService.createUser("John");
}

@Test
@Order(2)
void testUpdateUser() {
    // ä¾è³´å‰ä¸€å€‹æ¸¬è©¦çš„çµæœ
    userService.updateUser(createdUser.getId(), "Jane");
}
```

âœ… **æ­£ç¢ºåšæ³•**
```java
@Test
void testCreateUser() {
    User user = userService.createUser("John");
    assertNotNull(user.getId());
}

@Test
void testUpdateUser() {
    // æ¯å€‹æ¸¬è©¦ç¨ç«‹æº–å‚™è³‡æ–™
    User user = createTestUser();
    userService.updateUser(user.getId(), "Jane");
    assertEquals("Jane", userService.getUser(user.getId()).getName());
}
```

### 8.2 æ•´åˆæ¸¬è©¦å¸¸è¦‹éŒ¯èª¤

#### éŒ¯èª¤ 4ï¼šæ¸¬è©¦ç’°å¢ƒä¸ä¸€è‡´

âŒ **å•é¡Œç¾è±¡**
```markdown
- æœ¬åœ°æ¸¬è©¦é€šéï¼ŒCI/CD å¤±æ•—
- ä¸åŒé–‹ç™¼äººå“¡åŸ·è¡Œçµæœä¸åŒ
- æ¸¬è©¦çµæœä¸ç©©å®š
```

âœ… **è§£æ±ºæ–¹æ¡ˆ**
```yaml
# ä½¿ç”¨ Docker ç¢ºä¿ç’°å¢ƒä¸€è‡´æ€§
version: '3.8'
services:
  test-db:
    image: postgres:13
    environment:
      POSTGRES_DB: testdb
      POSTGRES_USER: test
      POSTGRES_PASSWORD: test
    ports:
      - "5433:5432"
```

#### éŒ¯èª¤ 5ï¼šæ¸¬è©¦è³‡æ–™ç®¡ç†ä¸ç•¶

âŒ **éŒ¯èª¤åšæ³•**
```java
@Test
void testUserOperations() {
    // éŒ¯èª¤ï¼šä½¿ç”¨ç”Ÿç”¢è³‡æ–™æˆ–å›ºå®šè³‡æ–™
    User user = userRepository.findById(1L);
    user.setName("Modified");
    userRepository.save(user);
}
```

âœ… **æ­£ç¢ºåšæ³•**
```java
@Test
@Transactional
@Rollback
void testUserOperations() {
    // æ­£ç¢ºï¼šæ¯æ¬¡æ¸¬è©¦å»ºç«‹æ–°è³‡æ–™ï¼Œæ¸¬è©¦å¾Œå›æ»¾
    User user = TestDataBuilder.createValidUser();
    user = userRepository.save(user);
    
    user.setName("Modified");
    userRepository.save(user);
    
    assertEquals("Modified", userRepository.findById(user.getId()).getName());
}
```

### 8.3 è‡ªå‹•åŒ–æ¸¬è©¦å¸¸è¦‹éŒ¯èª¤

#### éŒ¯èª¤ 6ï¼šéåº¦ä¾è³´ UI æ¸¬è©¦

âŒ **éŒ¯èª¤ç­–ç•¥**
```markdown
æ¸¬è©¦é‡‘å­—å¡”å€’ç½®ï¼š
- UI æ¸¬è©¦: 70%
- API æ¸¬è©¦: 20%
- å–®å…ƒæ¸¬è©¦: 10%

å•é¡Œï¼š
- åŸ·è¡Œç·©æ…¢
- ç¶­è­·æˆæœ¬é«˜
- ä¸ç©©å®š
```

âœ… **æ­£ç¢ºç­–ç•¥**
```markdown
åˆç†çš„æ¸¬è©¦é‡‘å­—å¡”ï¼š
- UI æ¸¬è©¦: 10%
- API æ¸¬è©¦: 20%
- å–®å…ƒæ¸¬è©¦: 70%

å„ªé»ï¼š
- å¿«é€Ÿå›é¥‹
- ç©©å®šå¯é 
- ç¶­è­·æˆæœ¬ä½
```

#### éŒ¯èª¤ 7ï¼šå¿½ç•¥æ¸¬è©¦ç¶­è­·

âŒ **å¸¸è¦‹å•é¡Œ**
```markdown
- æ¸¬è©¦ç¨‹å¼ç¢¼æ²’æœ‰é‡æ§‹
- é‡è¤‡çš„æ¸¬è©¦é‚è¼¯
- éæ™‚çš„æ¸¬è©¦æ¡ˆä¾‹
- æ²’æœ‰æ¸…ç†ç„¡ç”¨æ¸¬è©¦
```

âœ… **ç¶­è­·ç­–ç•¥**
```java
// ä½¿ç”¨ Page Object æ¨¡å¼æ¸›å°‘é‡è¤‡
public class LoginPage {
    private WebDriver driver;
    
    @FindBy(id = "username")
    private WebElement usernameField;
    
    @FindBy(id = "password")
    private WebElement passwordField;
    
    @FindBy(id = "login-btn")
    private WebElement loginButton;
    
    public void login(String username, String password) {
        usernameField.sendKeys(username);
        passwordField.sendKeys(password);
        loginButton.click();
    }
}
```

### 8.4 æ•ˆèƒ½æ¸¬è©¦å¸¸è¦‹éŒ¯èª¤

#### éŒ¯èª¤ 8ï¼šæ¸¬è©¦ç’°å¢ƒèˆ‡ç”Ÿç”¢ç’°å¢ƒå·®ç•°éå¤§

âŒ **å•é¡Œ**
```markdown
æ¸¬è©¦ç’°å¢ƒ:
- å–®æ©Ÿéƒ¨ç½²
- å°é‡æ¸¬è©¦è³‡æ–™
- ç„¡ç¶²è·¯å»¶é²

ç”Ÿç”¢ç’°å¢ƒ:
- å¢é›†éƒ¨ç½²
- å¤§é‡çœŸå¯¦è³‡æ–™
- ç¶²è·¯å»¶é²
```

âœ… **æ”¹å–„æ–¹æ¡ˆ**
```markdown
- ä½¿ç”¨èˆ‡ç”Ÿç”¢ç’°å¢ƒç›¸ä¼¼çš„ç¡¬é«”é…ç½®
- å»ºç«‹å…·ä»£è¡¨æ€§çš„æ¸¬è©¦è³‡æ–™é›†
- æ¨¡æ“¬çœŸå¯¦çš„ç¶²è·¯æ¢ä»¶
- è€ƒæ…®ç¬¬ä¸‰æ–¹æœå‹™çš„å›æ‡‰æ™‚é–“
```

#### éŒ¯èª¤ 9ï¼šæ•ˆèƒ½åŸºæº–è¨­å®šä¸åˆç†

âŒ **ä¸åˆç†çš„æœŸæœ›**
```markdown
- æ‰€æœ‰ API å›æ‡‰æ™‚é–“ < 100ms
- æ”¯æ´ç„¡é™ä¸¦ç™¼ä½¿ç”¨è€…
- é›¶åœæ©Ÿæ™‚é–“
```

âœ… **åˆç†çš„åŸºæº–**
```markdown
- é—œéµ API < 500ms, ä¸€èˆ¬ API < 2s
- æ”¯æ´é æœŸä½¿ç”¨è€…æ•¸é‡çš„ 150%
- 99.9% å¯ç”¨æ€§ (æ¯æœˆåœæ©Ÿ < 45 åˆ†é˜)
```

### 8.5 é é˜²æªæ–½æ¸…å–®

```markdown
âœ… é¿å…å¸¸è¦‹éŒ¯èª¤æª¢æŸ¥æ¸…å–®

ã€ç¨‹å¼ç¢¼å“è³ªã€‘
â–¡ éµå¾ªæ¸¬è©¦å‘½åè¦ç¯„
â–¡ æ¯å€‹æ¸¬è©¦åªé©—è­‰ä¸€å€‹è¡Œç‚º
â–¡ ä½¿ç”¨ AAA æ¨¡å¼ (Arrange, Act, Assert)
â–¡ é¿å…æ¸¬è©¦é–“ä¾è³´

ã€æ¸¬è©¦è¨­è¨ˆã€‘
â–¡ æ¶µè“‹æ­£å¸¸å’Œç•°å¸¸æƒ…æ³
â–¡ åŒ…å«é‚Šç•Œå€¼æ¸¬è©¦
â–¡ è€ƒæ…®ä½µç™¼å’Œç«¶æ…‹æ¢ä»¶
â–¡ é©—è­‰éŒ¯èª¤è™•ç†é‚è¼¯

ã€ç’°å¢ƒç®¡ç†ã€‘
â–¡ ä½¿ç”¨å®¹å™¨ç¢ºä¿ç’°å¢ƒä¸€è‡´æ€§
â–¡ æ¸¬è©¦è³‡æ–™ç¨ç«‹ä¸”å¯é‡è¤‡
â–¡ é…ç½®é©ç•¶çš„æ¸¬è©¦éš”é›¢
â–¡ å®šæœŸæ¸…ç†æ¸¬è©¦ç’°å¢ƒ

ã€è‡ªå‹•åŒ–ç­–ç•¥ã€‘
â–¡ éµå¾ªæ¸¬è©¦é‡‘å­—å¡”åŸå‰‡
â–¡ å¹³è¡¡æ¸¬è©¦è¦†è“‹ç‡å’ŒåŸ·è¡Œé€Ÿåº¦
â–¡ å®šæœŸç¶­è­·å’Œé‡æ§‹æ¸¬è©¦ç¨‹å¼ç¢¼
â–¡ ç›£æ§æ¸¬è©¦åŸ·è¡Œè¶¨å‹¢

ã€åœ˜éšŠå”ä½œã€‘
â–¡ å»ºç«‹æ¸…æ¥šçš„æ¸¬è©¦è¦ç¯„
â–¡ å®šæœŸæª¢è¦–æ¸¬è©¦ç­–ç•¥
â–¡ åˆ†äº«æ¸¬è©¦æœ€ä½³å¯¦å‹™
â–¡ æŒçºŒæ”¹é€²æ¸¬è©¦æµç¨‹
```

---

## 14. æ–°é€²æˆå“¡çš„æœ€ä½³å¯¦å‹™èˆ‡å»ºè­°

### 9.1 å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

#### ç¬¬ä¸€é€±ï¼šç’°å¢ƒå»ºç½®èˆ‡åŸºç¤å­¸ç¿’

```markdown
ğŸ“… ç¬¬ä¸€é€±å­¸ç¿’è¨ˆç•«

ã€ç¬¬1-2å¤©ï¼šç’°å¢ƒå»ºç½®ã€‘
â–¡ å®‰è£é–‹ç™¼ç’°å¢ƒ (JDK, IDE, Maven)
â–¡ å»ºç½®å°ˆæ¡ˆä¸¦åŸ·è¡Œæ¸¬è©¦
â–¡ ç†Ÿæ‚‰å°ˆæ¡ˆçµæ§‹å’Œå·¥å…·
â–¡ é–±è®€å°ˆæ¡ˆæ–‡ä»¶å’Œè¦ç¯„

ã€ç¬¬3-4å¤©ï¼šåŸºç¤æ¦‚å¿µã€‘
â–¡ å­¸ç¿’å–®å…ƒæ¸¬è©¦åŸºç¤ (JUnit)
â–¡ äº†è§£ Mock æ¦‚å¿µ (Mockito)
â–¡ ç·´ç¿’æ’°å¯«ç°¡å–®æ¸¬è©¦æ¡ˆä¾‹
â–¡ ç†è§£æ¸¬è©¦é©…å‹•é–‹ç™¼ (TDD)

ã€ç¬¬5å¤©ï¼šå¯¦ä½œç·´ç¿’ã€‘
â–¡ ç‚ºç¾æœ‰åŠŸèƒ½è£œå……æ¸¬è©¦
â–¡ æäº¤ç¬¬ä¸€å€‹æ¸¬è©¦ç›¸é—œ PR
â–¡ æ¥å—ç¨‹å¼ç¢¼å¯©æŸ¥å›é¥‹
â–¡ ç¸½çµå­¸ç¿’å¿ƒå¾—
```

#### ç¬¬äºŒé€±ï¼šé€²éšæŠ€èƒ½å­¸ç¿’

```markdown
ã€ç¬¬6-8å¤©ï¼šæ•´åˆæ¸¬è©¦ã€‘
â–¡ å­¸ç¿’ Spring Boot Test
â–¡ ç·´ç¿’ API æ¸¬è©¦
â–¡ äº†è§£æ¸¬è©¦è³‡æ–™ç®¡ç†
â–¡ æŒæ¡æ¸¬è©¦ç’°å¢ƒé…ç½®

ã€ç¬¬9-10å¤©ï¼šå·¥å…·æ‡‰ç”¨ã€‘
â–¡ ä½¿ç”¨æ¸¬è©¦è¦†è“‹ç‡å·¥å…·
â–¡ å­¸ç¿’æŒçºŒæ•´åˆæµç¨‹
â–¡ ç·´ç¿’ç¼ºé™·å ±å‘Šæ’°å¯«
â–¡ åƒèˆ‡åœ˜éšŠæ¸¬è©¦æª¢è¨
```

### 9.2 å­¸ç¿’è³‡æºæ¨è–¦

#### æ›¸ç±æ¨è–¦

```markdown
ğŸ“š å¿…è®€æ›¸ç±
1. "å–®å…ƒæ¸¬è©¦çš„è—è¡“" - Roy Osherove
2. "é‡æ§‹ï¼šæ”¹å–„æ—¢æœ‰ç¨‹å¼çš„è¨­è¨ˆ" - Martin Fowler  
3. "æ¸¬è©¦é©…å‹•é–‹ç™¼" - Kent Beck
4. "æŒçºŒäº¤ä»˜" - Jez Humble

ğŸ“± ç·šä¸Šè³‡æº
- JUnit 5 å®˜æ–¹æ–‡ä»¶
- Spring Boot Testing Guide
- Mockito æ•™å­¸
- TestContainers ä½¿ç”¨æŒ‡å—
```

#### å¯¦ä½œç·´ç¿’å°ˆæ¡ˆ

```java
// ç·´ç¿’å°ˆæ¡ˆï¼šåœ–æ›¸ç®¡ç†ç³»çµ±
@Entity
public class Book {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String title;
    private String author;
    private String isbn;
    private boolean available;
    
    // å»ºæ§‹å­ã€getterã€setter
}

// ç·´ç¿’ç›®æ¨™ï¼š
// 1. ç‚º BookService æ’°å¯«å–®å…ƒæ¸¬è©¦
// 2. ç‚º BookController æ’°å¯«æ•´åˆæ¸¬è©¦
// 3. å¯¦ä½œæ›¸ç±å€Ÿé–±æ­¸é‚„åŠŸèƒ½æ¸¬è©¦
// 4. åŠ å…¥æ•ˆèƒ½æ¸¬è©¦é©—è­‰
```

### 9.3 å¯¦å‹™æ“ä½œå»ºè­°

#### ç¨‹å¼ç¢¼å¯©æŸ¥è¦é»

```markdown
ğŸ” æ¸¬è©¦ç¨‹å¼ç¢¼å¯©æŸ¥æª¢æŸ¥æ¸…å–®

ã€æ¸¬è©¦é‚è¼¯ã€‘
â–¡ æ¸¬è©¦åç¨±æ¸…æ¥šè¡¨é”æ„åœ–
â–¡ æ¸¬è©¦æ¡ˆä¾‹æ¶µè“‹ä¸»è¦è·¯å¾‘
â–¡ æ–·è¨€å…·é«”ä¸”æœ‰æ„ç¾©
â–¡ æ²’æœ‰ä¸å¿…è¦çš„è¤‡é›œé‚è¼¯

ã€æ¸¬è©¦å“è³ªã€‘
â–¡ éµå¾ª AAA æ¨¡å¼
â–¡ é©ç•¶ä½¿ç”¨ Mock å’Œ Stub
â–¡ æ¸¬è©¦è³‡æ–™æº–å‚™æ¸…æ¥š
â–¡ æ¸…ç†è³‡æºå’Œç‹€æ…‹

ã€ç¶­è­·æ€§ã€‘
â–¡ é¿å…é‡è¤‡ç¨‹å¼ç¢¼
â–¡ ä½¿ç”¨è¼”åŠ©æ–¹æ³•çµ„ç¹”æ¸¬è©¦
â–¡ è¨»è§£èªªæ˜è¤‡é›œé‚è¼¯
â–¡ ä¿æŒæ¸¬è©¦ç°¡æ½”æ˜“æ‡‚
```

#### é™¤éŒ¯æŠ€å·§

```java
// æ¸¬è©¦é™¤éŒ¯ç¯„ä¾‹
@Test
void testComplexBusinessLogic() {
    // 1. ä½¿ç”¨å…·é«”çš„è¼¸å…¥å€¼ï¼Œé¿å…éš¨æ©Ÿå€¼
    BigDecimal amount = new BigDecimal("1000.00");
    String currency = "TWD";
    
    // 2. åŠ å…¥ä¸­é–“æ–·è¨€ç¢ºèªç‹€æ…‹
    Transaction transaction = createTransaction(amount, currency);
    assertNotNull(transaction.getId()); // ç¢ºèªäº¤æ˜“å·²å»ºç«‹
    
    // 3. ä½¿ç”¨ assertThat æä¾›æ›´å¥½çš„éŒ¯èª¤è¨Šæ¯
    BigDecimal result = calculator.calculateFee(transaction);
    assertThat(result)
        .as("æ‰‹çºŒè²»è¨ˆç®—éŒ¯èª¤")
        .isEqualTo(new BigDecimal("30.00"));
}
```

### 9.4 è·æ¶¯ç™¼å±•è·¯å¾‘

#### æ¸¬è©¦å°ˆæ¥­æŠ€èƒ½ç™¼å±•

```mermaid
graph TD
    A[åˆç´šé–‹ç™¼å·¥ç¨‹å¸«] --> B[å…·æ¸¬è©¦æ„è­˜çš„é–‹ç™¼è€…]
    B --> C[æ¸¬è©¦é©…å‹•é–‹ç™¼å¯¦è¸è€…]
    C --> D[å“è³ªä¿è­‰å°ˆå®¶]
    D --> E[æ¸¬è©¦æ¶æ§‹å¸«]
    
    B --> F[è‡ªå‹•åŒ–æ¸¬è©¦å·¥ç¨‹å¸«]
    F --> G[DevOps å·¥ç¨‹å¸«]
    G --> H[ç³»çµ±å¯é æ€§å·¥ç¨‹å¸« SRE]
```

#### æŠ€èƒ½æå‡å»ºè­°

```markdown
ğŸ¯ éšæ®µæ€§æŠ€èƒ½ç›®æ¨™

ã€åŸºç¤éšæ®µ (0-6å€‹æœˆ)ã€‘
- ç†Ÿç·´æ’°å¯«å–®å…ƒæ¸¬è©¦
- ç†è§£æ¸¬è©¦é‡‘å­—å¡”æ¦‚å¿µ
- æŒæ¡åŸºæœ¬çš„ Mock æŠ€è¡“
- å­¸æœƒä½¿ç”¨æ¸¬è©¦å·¥å…·

ã€é€²éšéšæ®µ (6-18å€‹æœˆ)ã€‘
- è¨­è¨ˆå®Œæ•´çš„æ¸¬è©¦ç­–ç•¥
- å»ºç«‹è‡ªå‹•åŒ–æ¸¬è©¦æµç¨‹
- é€²è¡Œæ•ˆèƒ½å’Œå®‰å…¨æ¸¬è©¦
- æŒ‡å°åœ˜éšŠæ¸¬è©¦å¯¦å‹™

ã€å°ˆå®¶éšæ®µ (18å€‹æœˆä»¥ä¸Š)ã€‘
- åˆ¶å®šçµ„ç¹”æ¸¬è©¦æ¨™æº–
- è©•ä¼°å’Œå¼•é€²æ–°å·¥å…·
- è·¨åœ˜éšŠçŸ¥è­˜åˆ†äº«
- æ¨å‹•æ¸¬è©¦æ–‡åŒ–å»ºç«‹
```

---

## 15. æ¸¬è©¦èˆ‡å“è³ªä¿è­‰æª¢æŸ¥æ¸…å–® (Checklist)

### 10.1 é–‹ç™¼éšæ®µæª¢æŸ¥æ¸…å–®

#### åŠŸèƒ½é–‹ç™¼å‰

```markdown
ğŸ“‹ é–‹ç™¼å‰æª¢æŸ¥æ¸…å–®

ã€éœ€æ±‚åˆ†æã€‘
â–¡ éœ€æ±‚è¦æ ¼å·²ç¢ºèªå’Œæ¾„æ¸…
â–¡ é©—æ”¶æ¨™æº–å·²æ˜ç¢ºå®šç¾©
â–¡ æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆå·²å®Œæˆ
â–¡ æ¸¬è©¦è³‡æ–™éœ€æ±‚å·²è­˜åˆ¥

ã€è¨­è¨ˆå¯©æŸ¥ã€‘
â–¡ æ¶æ§‹è¨­è¨ˆå·²è€ƒæ…®å¯æ¸¬è©¦æ€§
â–¡ ä»‹é¢è¨­è¨ˆå·²å®šç¾©æ¸…æ¥š
â–¡ éŒ¯èª¤è™•ç†æ©Ÿåˆ¶å·²è¦åŠƒ
â–¡ æ•ˆèƒ½éœ€æ±‚å·²æ˜ç¢ºå®šç¾©

ã€ç’°å¢ƒæº–å‚™ã€‘
â–¡ é–‹ç™¼ç’°å¢ƒå·²è¨­å®šå®Œæˆ
â–¡ æ¸¬è©¦ç’°å¢ƒå·²æº–å‚™å°±ç·’
â–¡ æ¸¬è©¦å·¥å…·å·²å®‰è£é…ç½®
â–¡ ç‰ˆæœ¬æ§åˆ¶å·²è¨­å®šæ­£ç¢º
```

#### åŠŸèƒ½é–‹ç™¼ä¸­

```markdown
ğŸ“‹ é–‹ç™¼ä¸­æª¢æŸ¥æ¸…å–®

ã€ç¨‹å¼ç¢¼å“è³ªã€‘
â–¡ éµå¾ªç¨‹å¼ç¢¼é¢¨æ ¼æŒ‡å¼•
â–¡ æ–°å¢é©ç•¶çš„æ—¥èªŒè¨˜éŒ„
â–¡ è™•ç†é‚Šç•Œæ¢ä»¶å’Œç•°å¸¸
â–¡ ç¨‹å¼ç¢¼å…·æœ‰è‰¯å¥½å¯è®€æ€§

ã€æ¸¬è©¦æ’°å¯«ã€‘
â–¡ æ¯å€‹æ–°åŠŸèƒ½éƒ½æœ‰å–®å…ƒæ¸¬è©¦
â–¡ æ¸¬è©¦è¦†è“‹ç‡é”åˆ°åœ˜éšŠæ¨™æº–
â–¡ æ¸¬è©¦æ¡ˆä¾‹æ¶µè“‹æ­£å¸¸å’Œç•°å¸¸æƒ…æ³
â–¡ ä½¿ç”¨æœ‰æ„ç¾©çš„æ¸¬è©¦åç¨±

ã€æŒçºŒæ•´åˆã€‘
â–¡ æœ¬åœ°æ¸¬è©¦å…¨éƒ¨é€šé
â–¡ ç¨‹å¼ç¢¼é¢¨æ ¼æª¢æŸ¥é€šé
â–¡ æ²’æœ‰æ–°å¢çš„ç¨‹å¼ç¢¼ç•°å‘³
â–¡ ä¾è³´å¥—ä»¶å®‰å…¨æ€§æª¢æŸ¥é€šé
```

#### åŠŸèƒ½é–‹ç™¼å¾Œ

```markdown
ğŸ“‹ é–‹ç™¼å¾Œæª¢æŸ¥æ¸…å–®

ã€ç¨‹å¼ç¢¼å¯©æŸ¥ã€‘
â–¡ æäº¤è©³ç´°çš„ Pull Request æè¿°
â–¡ å›æ‡‰æ‰€æœ‰å¯©æŸ¥æ„è¦‹
â–¡ ä¿®æ­£æ‰€æœ‰ç™¼ç¾çš„å•é¡Œ
â–¡ ç²å¾—åœ˜éšŠæˆå“¡æ ¸å‡†

ã€æ¸¬è©¦é©—è­‰ã€‘
â–¡ æ•´åˆæ¸¬è©¦åŸ·è¡ŒæˆåŠŸ
â–¡ ç«¯åˆ°ç«¯æ¸¬è©¦é€šé
â–¡ æ•ˆèƒ½æ¸¬è©¦ç¬¦åˆè¦æ±‚
â–¡ ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦é€šé

ã€æ–‡ä»¶æ›´æ–°ã€‘
â–¡ API æ–‡ä»¶å·²æ›´æ–°
â–¡ ä½¿ç”¨è€…æ‰‹å†Šå·²ä¿®è¨‚
â–¡ è®Šæ›´æ—¥èªŒå·²è¨˜éŒ„
â–¡ æ¸¬è©¦æ¡ˆä¾‹æ–‡ä»¶å·²ç¶­è­·
```

### 10.2 æ¸¬è©¦åŸ·è¡Œæª¢æŸ¥æ¸…å–®

#### æ¸¬è©¦æº–å‚™éšæ®µ

```markdown
ğŸ“‹ æ¸¬è©¦æº–å‚™æª¢æŸ¥æ¸…å–®

ã€æ¸¬è©¦ç’°å¢ƒã€‘
â–¡ æ¸¬è©¦ç’°å¢ƒç‰ˆæœ¬æ­£ç¢º
â–¡ æ¸¬è©¦è³‡æ–™å·²æº–å‚™å®Œæˆ
â–¡ ç¬¬ä¸‰æ–¹æœå‹™æ¨¡æ“¬è¨­å®š
â–¡ ç›£æ§å’Œæ—¥èªŒæ©Ÿåˆ¶å°±ç·’

ã€æ¸¬è©¦æ¡ˆä¾‹ã€‘
â–¡ æ¸¬è©¦æ¡ˆä¾‹å·²å¯©æŸ¥ç¢ºèª
â–¡ æ¸¬è©¦å„ªå…ˆé †åºå·²æ’å®š
â–¡ æ¸¬è©¦è³‡æ–™å»ºæ§‹å®Œæˆ
â–¡ é æœŸçµæœå·²æ˜ç¢ºå®šç¾©

ã€å·¥å…·è¨­å®šã€‘
â–¡ è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬å°±ç·’
â–¡ æ¸¬è©¦å ±å‘Šç¯„æœ¬æº–å‚™
â–¡ ç¼ºé™·è¿½è¹¤å·¥å…·è¨­å®š
â–¡ æºé€šç®¡é“å·²å»ºç«‹
```

#### æ¸¬è©¦åŸ·è¡Œéšæ®µ

```markdown
ğŸ“‹ æ¸¬è©¦åŸ·è¡Œæª¢æŸ¥æ¸…å–®

ã€åŸ·è¡Œéç¨‹ã€‘
â–¡ æŒ‰ç…§æ¸¬è©¦è¨ˆç•«åŸ·è¡Œ
â–¡ è¨˜éŒ„è©³ç´°çš„åŸ·è¡Œçµæœ
â–¡ åŠæ™‚å ±å‘Šç™¼ç¾çš„å•é¡Œ
â–¡ ä¿å­˜æ¸¬è©¦è­‰æ“šæˆªåœ–

ã€çµæœé©—è­‰ã€‘
â–¡ é©—è­‰æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹çµæœ
â–¡ ç¢ºèªç¼ºé™·é‡ç¾æ­¥é©Ÿ
â–¡ æª¢æŸ¥æ¸¬è©¦è¦†è“‹ç‡é”æ¨™
â–¡ åˆ†ææœªé€šéçš„æ¸¬è©¦åŸå› 

ã€é¢¨éšªç®¡æ§ã€‘
â–¡ è­˜åˆ¥é«˜é¢¨éšªå•é¡Œ
â–¡ è©•ä¼°å•é¡Œå½±éŸ¿ç¯„åœ
â–¡ åŠæ™‚å‡ç´šåš´é‡å•é¡Œ
â–¡ èª¿æ•´æ¸¬è©¦ç­–ç•¥
```

### 10.3 ç™¼å¸ƒå‰æª¢æŸ¥æ¸…å–®

#### ç™¼å¸ƒæº–å‚™

```markdown
ğŸ“‹ ç™¼å¸ƒå‰æª¢æŸ¥æ¸…å–®

ã€æ¸¬è©¦å®Œæ•´æ€§ã€‘
â–¡ æ‰€æœ‰è¨ˆç•«æ¸¬è©¦å·²åŸ·è¡Œå®Œæˆ
â–¡ é—œéµæ¥­å‹™æµç¨‹æ¸¬è©¦é€šé
â–¡ æ•ˆèƒ½åŸºæº–æ¸¬è©¦é”æ¨™
â–¡ å®‰å…¨æ¸¬è©¦ç„¡é«˜é¢¨éšªå•é¡Œ

ã€å“è³ªé©—è­‰ã€‘
â–¡ ç¨‹å¼ç¢¼è¦†è“‹ç‡é”åˆ°è¦æ±‚
â–¡ æŠ€è¡“å‚µå‹™åœ¨å¯æ§ç¯„åœ
â–¡ æ²’æœ‰åš´é‡ç­‰ç´šçš„ç¼ºé™·
â–¡ ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦é€šé

ã€ç™¼å¸ƒå°±ç·’ã€‘
â–¡ ç™¼å¸ƒè…³æœ¬å·²æ¸¬è©¦é©—è­‰
â–¡ å›æ»¾è¨ˆç•«å·²æº–å‚™å®Œæˆ
â–¡ ç›£æ§å‘Šè­¦å·²è¨­å®š
â–¡ åœ˜éšŠå¾…å‘½æ”¯æ´
```

#### ç™¼å¸ƒå¾Œé©—è­‰

```markdown
ğŸ“‹ ç™¼å¸ƒå¾Œæª¢æŸ¥æ¸…å–®

ã€å³æ™‚ç›£æ§ã€‘
â–¡ ç³»çµ±å¥åº·ç‹€æ…‹æ­£å¸¸
â–¡ é—œéµæŒ‡æ¨™ç„¡ç•°å¸¸
â–¡ éŒ¯èª¤æ—¥èªŒç„¡åš´é‡å•é¡Œ
â–¡ ä½¿ç”¨è€…å›é¥‹æ­£é¢

ã€å¾ŒçºŒè¿½è¹¤ã€‘
â–¡ æŒçºŒç›£æ§ç³»çµ±ç©©å®šæ€§
â–¡ æ”¶é›†ä½¿ç”¨è€…å›é¥‹æ„è¦‹
â–¡ åˆ†ææ•ˆèƒ½æŒ‡æ¨™è¶¨å‹¢
â–¡ è¦åŠƒä¸‹æ¬¡è¿­ä»£æ”¹é€²

ã€ç¶“é©—ç¸½çµã€‘
â–¡ è¨˜éŒ„ç™¼å¸ƒéç¨‹å•é¡Œ
â–¡ åˆ†äº«æˆåŠŸç¶“é©—åšæ³•
â–¡ æ›´æ–°æµç¨‹æ–‡ä»¶
â–¡ æŒçºŒæ”¹é€²æ¸¬è©¦ç­–ç•¥
```

### 10.4 ç·Šæ€¥æƒ…æ³è™•ç†æ¸…å–®

```markdown
ğŸš¨ ç”Ÿç”¢ç’°å¢ƒå•é¡Œè™•ç†æ¸…å–®

ã€å•é¡Œç™¼ç¾ã€‘
â–¡ ç¢ºèªå•é¡Œçš„å½±éŸ¿ç¯„åœ
â–¡ è©•ä¼°å•é¡Œçš„åš´é‡ç¨‹åº¦
â–¡ é€šçŸ¥ç›¸é—œåœ˜éšŠæˆå“¡
â–¡ å•Ÿå‹•æ‡‰æ€¥å›æ‡‰æµç¨‹

ã€å¿«é€Ÿè¨ºæ–·ã€‘
â–¡ æª¢æŸ¥ç³»çµ±æ—¥èªŒè¨˜éŒ„
â–¡ åˆ†æç›£æ§æŒ‡æ¨™æ•¸æ“š
â–¡ ç¢ºèªæœ€è¿‘çš„è®Šæ›´è¨˜éŒ„
â–¡ è­˜åˆ¥å¯èƒ½çš„æ ¹æœ¬åŸå› 

ã€æ‡‰å°æªæ–½ã€‘
â–¡ åŸ·è¡Œè‡¨æ™‚è§£æ±ºæ–¹æ¡ˆ
â–¡ è€ƒæ…®å›æ»¾åˆ°ç©©å®šç‰ˆæœ¬
â–¡ é€šçŸ¥å—å½±éŸ¿çš„ä½¿ç”¨è€…
â–¡ è¨˜éŒ„æ‰€æœ‰æ‡‰å°è¡Œå‹•

ã€å•é¡Œè§£æ±ºã€‘
â–¡ å¯¦æ–½æ°¸ä¹…è§£æ±ºæ–¹æ¡ˆ
â–¡ é©—è­‰å•é¡Œå·²å®Œå…¨è§£æ±º
â–¡ æ›´æ–°ç›¸é—œæ¸¬è©¦æ¡ˆä¾‹
â–¡ é€²è¡Œæ ¹æœ¬åŸå› åˆ†æ

ã€é é˜²æ”¹é€²ã€‘
â–¡ åˆ†æå•é¡Œé é˜²æªæ–½
â–¡ æ›´æ–°æ¸¬è©¦å’Œç›£æ§
â–¡ åŠ å¼·ç›¸é—œæµç¨‹æ§åˆ¶
â–¡ åˆ†äº«ç¶“é©—æ•™è¨“
```

---

## çµèª

æ¸¬è©¦èˆ‡å“è³ªä¿è­‰æ˜¯è»Ÿé«”é–‹ç™¼ç”Ÿå‘½é€±æœŸä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦ç’°ç¯€ã€‚é€éå»ºç«‹å®Œå–„çš„æ¸¬è©¦æµç¨‹ã€ä½¿ç”¨é©ç•¶çš„å·¥å…·ã€åŸ¹é¤Šå“è³ªæ„è­˜ï¼Œæˆ‘å€‘èƒ½å¤ ï¼š

- **æå‡è»Ÿé«”å“è³ª**: åŠæ—©ç™¼ç¾å’Œä¿®å¾©å•é¡Œ
- **é™ä½ç¶­è­·æˆæœ¬**: æ¸›å°‘ç”Ÿç”¢ç’°å¢ƒçš„å•é¡Œè™•ç†
- **åŠ é€Ÿäº¤ä»˜é€Ÿåº¦**: è‡ªå‹•åŒ–æ¸¬è©¦æ”¯æ´æŒçºŒæ•´åˆ
- **å¢å¼·åœ˜éšŠä¿¡å¿ƒ**: å…¨é¢çš„æ¸¬è©¦è¦†è“‹æä¾›å“è³ªä¿éšœ

è¨˜ä½ï¼Œå“è³ªä¸æ˜¯æ¸¬è©¦å‡ºä¾†çš„ï¼Œè€Œæ˜¯è¨­è¨ˆå’Œé–‹ç™¼å‡ºä¾†çš„ã€‚æ¯å€‹åœ˜éšŠæˆå“¡éƒ½æ‡‰è©²å…·å‚™å“è³ªæ„è­˜ï¼Œå…±åŒç‚ºå°ˆæ¡ˆçš„æˆåŠŸè² è²¬ã€‚

æŒçºŒå­¸ç¿’ã€æŒçºŒæ”¹é€²ï¼Œè®“æ¸¬è©¦èˆ‡å“è³ªä¿è­‰æˆç‚ºåœ˜éšŠæ–‡åŒ–çš„ä¸€éƒ¨åˆ†ï¼

---

## 16. æ¸¬è©¦æˆæœ¬æ•ˆç›Šåˆ†æèˆ‡ ROI è©•ä¼°

### 16.1 æ¸¬è©¦æŠ•è³‡æˆæœ¬åˆ†æ

#### æ¸¬è©¦æˆæœ¬æ§‹æˆ

```markdown
ğŸ’° æ¸¬è©¦æˆæœ¬é …ç›®

ã€äººåŠ›æˆæœ¬ã€‘
- æ¸¬è©¦äººå“¡è–ªè³‡ (40-60%)
- é–‹ç™¼äººå“¡æ¸¬è©¦æ™‚é–“ (20-30%)
- æ¸¬è©¦ç®¡ç†èˆ‡å”èª¿ (10-15%)
- åŸ¹è¨“èˆ‡å­¸ç¿’æˆæœ¬ (5-10%)

ã€å·¥å…·èˆ‡åŸºç¤è¨­æ–½æˆæœ¬ã€‘
- æ¸¬è©¦å·¥å…·æˆæ¬Šè²»ç”¨
- æ¸¬è©¦ç’°å¢ƒç¶­è­·æˆæœ¬
- CI/CD å¹³å°è²»ç”¨
- é›²ç«¯æ¸¬è©¦æœå‹™è²»ç”¨

ã€é–“æ¥æˆæœ¬ã€‘
- ç¼ºé™·ä¿®å¾©æˆæœ¬
- ç”Ÿç”¢å•é¡Œè™•ç†æˆæœ¬
- å®¢æˆ¶æµå¤±æˆæœ¬
- å“ç‰Œå½¢è±¡æå¤±
```

#### ROI è¨ˆç®—æ¨¡å‹

```java
public class TestingROICalculator {
    
    public static class TestingCost {
        private double toolsCost;           // å·¥å…·æˆæœ¬
        private double environmentCost;     // ç’°å¢ƒæˆæœ¬
        private double personnelCost;       // äººåŠ›æˆæœ¬
        private double trainingCost;        // åŸ¹è¨“æˆæœ¬
        
        public double getTotalCost() {
            return toolsCost + environmentCost + personnelCost + trainingCost;
        }
    }
    
    public static class DefectCost {
        private int defectsFound;           // ç™¼ç¾çš„ç¼ºé™·æ•¸é‡
        private double avgFixCostInDev = 100;      // é–‹ç™¼éšæ®µä¿®å¾©æˆæœ¬
        private double avgFixCostInProd = 10000;   // ç”Ÿç”¢éšæ®µä¿®å¾©æˆæœ¬
        private double preventionRatio = 0.8;     // é é˜²æ•ˆæœæ¯”ä¾‹
        
        public double getPreventedCost() {
            return defectsFound * preventionRatio * 
                   (avgFixCostInProd - avgFixCostInDev);
        }
    }
    
    public static double calculateROI(TestingCost testingCost, DefectCost defectCost) {
        double investment = testingCost.getTotalCost();
        double savings = defectCost.getPreventedCost();
        
        return ((savings - investment) / investment) * 100;
    }
    
    // ä½¿ç”¨ç¯„ä¾‹
    public static void main(String[] args) {
        TestingCost cost = new TestingCost();
        cost.toolsCost = 50000;
        cost.environmentCost = 30000;
        cost.personnelCost = 200000;
        cost.trainingCost = 20000;
        
        DefectCost defectCost = new DefectCost();
        defectCost.defectsFound = 100;
        
        double roi = calculateROI(cost, defectCost);
        System.out.printf("æ¸¬è©¦æŠ•è³‡ ROI: %.2f%%\n", roi);
    }
}
```

### 16.2 æ¸¬è©¦æ•ˆç›Šé‡åŒ–æŒ‡æ¨™

#### å“è³ªæŒ‡æ¨™æ”¹å–„

```markdown
ğŸ“Š æ¸¬è©¦æ•ˆç›Šé‡åŒ–æŒ‡æ¨™

ã€ç¼ºé™·ç›¸é—œæŒ‡æ¨™ã€‘
- ç”Ÿç”¢ç¼ºé™·æ¸›å°‘ç‡: 80%
- ç¼ºé™·ä¿®å¾©æ™‚é–“ç¸®çŸ­: 60%
- å®¢æˆ¶å›å ±å•é¡Œæ¸›å°‘: 70%
- åš´é‡ç¼ºé™·é¿å…æ•¸é‡: 15 å€‹/å¹´

ã€æ•ˆç‡æŒ‡æ¨™ã€‘
- ç™¼å¸ƒé€±æœŸç¸®çŸ­: 50%
- å›æ­¸æ¸¬è©¦æ™‚é–“æ¸›å°‘: 75%
- æ¸¬è©¦åŸ·è¡Œè‡ªå‹•åŒ–ç‡: 85%
- ç¨‹å¼ç¢¼è¦†è“‹ç‡æå‡: 40%

ã€æˆæœ¬æŒ‡æ¨™ã€‘
- ç¶­è­·æˆæœ¬é™ä½: 30%
- æ”¯æ´æˆæœ¬æ¸›å°‘: 40%
- é‡å·¥æˆæœ¬ç¯€çœ: 60%
- å®¢æˆ¶æ»¿æ„åº¦æå‡: 25%
```

#### é•·æœŸæ•ˆç›Šè¿½è¹¤

```java
@Component
public class TestingMetricsCollector {
    
    public static class QualityMetrics {
        private LocalDate reportDate;
        private int totalDefects;
        private int productionDefects;
        private double testCoverage;
        private long testExecutionTime;
        private double customerSatisfaction;
        
        // getters and setters
    }
    
    @Service
    public class ROITrackingService {
        
        public ROIReport generateROIReport(LocalDate startDate, LocalDate endDate) {
            List<QualityMetrics> metrics = getMetricsBetween(startDate, endDate);
            
            ROIReport report = new ROIReport();
            report.setPeriod(startDate + " to " + endDate);
            
            // è¨ˆç®—ç¼ºé™·è¶¨å‹¢
            double defectReduction = calculateDefectReduction(metrics);
            report.setDefectReduction(defectReduction);
            
            // è¨ˆç®—æˆæœ¬ç¯€çœ
            double costSavings = calculateCostSavings(metrics);
            report.setCostSavings(costSavings);
            
            // è¨ˆç®—æ•ˆç‡æå‡
            double efficiencyImprovement = calculateEfficiencyImprovement(metrics);
            report.setEfficiencyImprovement(efficiencyImprovement);
            
            return report;
        }
        
        private double calculateDefectReduction(List<QualityMetrics> metrics) {
            if (metrics.size() < 2) return 0;
            
            QualityMetrics first = metrics.get(0);
            QualityMetrics last = metrics.get(metrics.size() - 1);
            
            return ((double)(first.getProductionDefects() - last.getProductionDefects()) 
                    / first.getProductionDefects()) * 100;
        }
    }
}
```

### 16.3 æ¸¬è©¦ç­–ç•¥å„ªåŒ–

#### æˆæœ¬æ•ˆç›Šå„ªåŒ–ç­–ç•¥

```markdown
ğŸ¯ æ¸¬è©¦å„ªåŒ–ç­–ç•¥

ã€é«˜æ•ˆç›Šæ¸¬è©¦å„ªå…ˆã€‘
1. å–®å…ƒæ¸¬è©¦ (ä½æˆæœ¬ï¼Œé«˜å›å ±)
   - è‡ªå‹•åŒ–ç¨‹åº¦é«˜
   - åŸ·è¡Œé€Ÿåº¦å¿«
   - æ—©æœŸç™¼ç¾å•é¡Œ

2. API æ¸¬è©¦ (ä¸­æˆæœ¬ï¼Œé«˜å›å ±)
   - ç©©å®šæ€§å¥½
   - ç¶­è­·æˆæœ¬ä½
   - è¦†è“‹æ¥­å‹™é‚è¼¯

3. é—œéµè·¯å¾‘æ¸¬è©¦ (ä¸­æˆæœ¬ï¼Œæ¥µé«˜å›å ±)
   - ä¿è­·æ ¸å¿ƒåŠŸèƒ½
   - é¿å…é‡å¤§æå¤±
   - å®¢æˆ¶æ»¿æ„åº¦é—œéµ

ã€æˆæœ¬æ§åˆ¶æªæ–½ã€‘
- æ¸¬è©¦ç’°å¢ƒå…±äº«èˆ‡è¼ªæ›¿
- é›²ç«¯è³‡æºå½ˆæ€§ä½¿ç”¨
- é–‹æºå·¥å…·å„ªå…ˆé¸æ“‡
- åœ˜éšŠæŠ€èƒ½åŸ¹é¤Šèˆ‡å…§åŒ–
```

#### æ¸¬è©¦æŠ•è³‡çµ„åˆåˆ†é…

```java
public class TestingInvestmentPortfolio {
    
    public enum TestType {
        UNIT_TESTING(0.7, "å–®å…ƒæ¸¬è©¦"),
        INTEGRATION_TESTING(0.2, "æ•´åˆæ¸¬è©¦"),
        E2E_TESTING(0.1, "ç«¯åˆ°ç«¯æ¸¬è©¦");
        
        private final double allocation;
        private final String description;
        
        TestType(double allocation, String description) {
            this.allocation = allocation;
            this.description = description;
        }
    }
    
    public class InvestmentPlan {
        private double totalBudget;
        private Map<TestType, Double> allocation = new HashMap<>();
        
        public InvestmentPlan(double totalBudget) {
            this.totalBudget = totalBudget;
            calculateAllocation();
        }
        
        private void calculateAllocation() {
            for (TestType type : TestType.values()) {
                allocation.put(type, totalBudget * type.allocation);
            }
        }
        
        public void printAllocation() {
            System.out.println("æ¸¬è©¦æŠ•è³‡åˆ†é…è¨ˆç•«:");
            System.out.println("ç¸½é ç®—: $" + totalBudget);
            
            allocation.forEach((type, amount) -> {
                System.out.printf("%s: $%.2f (%.1f%%)\n", 
                    type.description, amount, type.allocation * 100);
            });
        }
    }
}
```

### 16.4 æ¸¬è©¦æŠ•è³‡æ±ºç­–æ¡†æ¶

#### é¢¨éšªé©…å‹•çš„æ¸¬è©¦æŠ•è³‡

```markdown
âš–ï¸ æ¸¬è©¦æŠ•è³‡æ±ºç­–çŸ©é™£

| åŠŸèƒ½é‡è¦æ€§ | è®Šæ›´é »ç‡ | è¤‡é›œåº¦ | æ¸¬è©¦æŠ•è³‡ç­‰ç´š | å»ºè­°ç­–ç•¥ |
|------------|----------|--------|--------------|----------|
| é«˜ | é«˜ | é«˜ | æ¥µé«˜ | å…¨é¢è‡ªå‹•åŒ– + äººå·¥é©—è­‰ |
| é«˜ | é«˜ | ä½ | é«˜ | è‡ªå‹•åŒ–æ¸¬è©¦ç‚ºä¸» |
| é«˜ | ä½ | é«˜ | é«˜ | æ‰‹å‹•æ¸¬è©¦ + é‡é»è‡ªå‹•åŒ– |
| é«˜ | ä½ | ä½ | ä¸­ | åŸºæœ¬è‡ªå‹•åŒ–æ¸¬è©¦ |
| ä½ | é«˜ | é«˜ | ä¸­ | é¸æ“‡æ€§è‡ªå‹•åŒ– |
| ä½ | é«˜ | ä½ | ä½ | å¿«é€Ÿæ‰‹å‹•æ¸¬è©¦ |
| ä½ | ä½ | é«˜ | ä½ | ä¸€æ¬¡æ€§æ·±åº¦æ¸¬è©¦ |
| ä½ | ä½ | ä½ | æ¥µä½ | åŸºæœ¬é©—è­‰ |
```

#### æ¸¬è©¦æŠ•è³‡è©•ä¼°å·¥å…·

```java
public class TestingInvestmentAnalyzer {
    
    public static class FeatureProfile {
        private String featureName;
        private int businessCriticality;  // 1-10
        private int changeFrequency;      // 1-10
        private int complexity;           // 1-10
        private double currentTestCost;
        private int defectsFound;
        
        public int calculateRiskScore() {
            return businessCriticality * changeFrequency * complexity;
        }
        
        public TestingStrategy recommendStrategy() {
            int riskScore = calculateRiskScore();
            
            if (riskScore >= 500) {
                return TestingStrategy.COMPREHENSIVE;
            } else if (riskScore >= 200) {
                return TestingStrategy.EXTENSIVE;
            } else if (riskScore >= 50) {
                return TestingStrategy.MODERATE;
            } else {
                return TestingStrategy.MINIMAL;
            }
        }
    }
    
    public enum TestingStrategy {
        COMPREHENSIVE("å…¨é¢æ¸¬è©¦", 1.0),
        EXTENSIVE("å»£æ³›æ¸¬è©¦", 0.7),
        MODERATE("é©åº¦æ¸¬è©¦", 0.4),
        MINIMAL("æœ€å°æ¸¬è©¦", 0.2);
        
        private final String description;
        private final double effortMultiplier;
        
        TestingStrategy(String description, double effortMultiplier) {
            this.description = description;
            this.effortMultiplier = effortMultiplier;
        }
    }
    
    public static void analyzeFeature(FeatureProfile feature) {
        TestingStrategy strategy = feature.recommendStrategy();
        double recommendedCost = feature.getCurrentTestCost() * strategy.effortMultiplier;
        
        System.out.printf("åŠŸèƒ½: %s\n", feature.getFeatureName());
        System.out.printf("é¢¨éšªåˆ†æ•¸: %d\n", feature.calculateRiskScore());
        System.out.printf("å»ºè­°ç­–ç•¥: %s\n", strategy.description);
        System.out.printf("å»ºè­°æŠ•è³‡: $%.2f\n", recommendedCost);
    }
}
```

---

## 17. åœ˜éšŠå”ä½œèˆ‡æºé€š

### 17.1 è·¨è·èƒ½åœ˜éšŠå”ä½œ

#### æ•æ·åœ˜éšŠä¸­çš„æ¸¬è©¦å”ä½œ

```markdown
ğŸ¤ æ•æ·æ¸¬è©¦å”ä½œæ¨¡å¼

ã€Sprint è¦åŠƒéšæ®µã€‘
- æ¸¬è©¦äººå“¡åƒèˆ‡ç”¨æˆ¶æ•…äº‹æ‹†åˆ†
- å”åŠ©å®šç¾©é©—æ”¶æ¨™æº– (DoD)
- è©•ä¼°æ¸¬è©¦å·¥ä½œé‡
- è­˜åˆ¥æ¸¬è©¦é¢¨éšªå’Œä¾è³´

ã€Sprint åŸ·è¡Œéšæ®µã€‘
- ä¸‰å‹æ¨¡å¼ (Three Amigos)
  - ç”¢å“è² è²¬äºº (PO)
  - é–‹ç™¼äººå“¡ (Dev)
  - æ¸¬è©¦äººå“¡ (QA)
- æŒçºŒçš„éœ€æ±‚æ¾„æ¸…
- å³æ™‚çš„ç¼ºé™·æºé€š
- è·¨åŠŸèƒ½é…å°å·¥ä½œ

ã€Sprint æª¢è¦–éšæ®µã€‘
- æ¸¬è©¦çµæœå±•ç¤º
- å“è³ªæŒ‡æ¨™å›é¡§
- æµç¨‹æ”¹é€²å»ºè­°
- ä¸‹å€‹ Sprint è¦åŠƒèª¿æ•´
```

#### DevOps æ–‡åŒ–ä¸­çš„å“è³ªå”ä½œ

```java
// å“è³ªé–€æª»è‡ªå‹•åŒ–æª¢æŸ¥
public class QualityGate {
    
    @Component
    public class QualityGateService {
        
        public QualityCheckResult performQualityCheck(BuildInfo buildInfo) {
            QualityCheckResult result = new QualityCheckResult();
            
            // ç¨‹å¼ç¢¼è¦†è“‹ç‡æª¢æŸ¥
            double coverage = getCoveragePercentage(buildInfo);
            result.addCheck("ç¨‹å¼ç¢¼è¦†è“‹ç‡", coverage >= 80.0, 
                String.format("è¦†è“‹ç‡: %.2f%% (æœ€ä½è¦æ±‚: 80%%)", coverage));
            
            // æ¸¬è©¦é€šéç‡æª¢æŸ¥
            double passRate = getTestPassRate(buildInfo);
            result.addCheck("æ¸¬è©¦é€šéç‡", passRate == 100.0,
                String.format("é€šéç‡: %.2f%% (è¦æ±‚: 100%%)", passRate));
            
            // å®‰å…¨æ¼æ´æª¢æŸ¥
            int vulnerabilities = getSecurityVulnerabilities(buildInfo);
            result.addCheck("å®‰å…¨æ¼æ´", vulnerabilities == 0,
                String.format("ç™¼ç¾ %d å€‹å®‰å…¨æ¼æ´ (å…è¨±: 0)", vulnerabilities));
            
            // æ•ˆèƒ½åŸºæº–æª¢æŸ¥
            long responseTime = getAverageResponseTime(buildInfo);
            result.addCheck("æ•ˆèƒ½åŸºæº–", responseTime <= 500,
                String.format("å¹³å‡å›æ‡‰æ™‚é–“: %dms (æœ€å¤§: 500ms)", responseTime));
            
            return result;
        }
        
        public void notifyTeam(QualityCheckResult result) {
            if (!result.isPassed()) {
                String message = buildFailureMessage(result);
                slackNotificationService.sendToChannel("#quality-alerts", message);
                emailService.notifyTeam("å“è³ªé–€æª»æª¢æŸ¥å¤±æ•—", message);
            }
        }
    }
}
```

### 17.2 æ¸¬è©¦æºé€šæœ€ä½³å¯¦å‹™

#### æœ‰æ•ˆçš„ç¼ºé™·æºé€š

```java
public class DefectCommunication {
    
    public static class DefectReport {
        private String title;
        private String description;
        private Severity severity;
        private Priority priority;
        private List<String> stepsToReproduce;
        private String environment;
        private List<String> attachments;
        private String expectedBehavior;
        private String actualBehavior;
        
        public String generateSlackMessage() {
            StringBuilder message = new StringBuilder();
            message.append("ğŸ› **æ–°ç¼ºé™·å ±å‘Š**\n");
            message.append(String.format("**æ¨™é¡Œ**: %s\n", title));
            message.append(String.format("**åš´é‡ç¨‹åº¦**: %s | **å„ªå…ˆç¨‹åº¦**: %s\n", 
                severity, priority));
            message.append(String.format("**ç’°å¢ƒ**: %s\n", environment));
            
            if (severity == Severity.CRITICAL || severity == Severity.HIGH) {
                message.append("âš ï¸ **é«˜å„ªå…ˆå•é¡Œï¼Œè«‹ç«‹å³è™•ç†**\n");
            }
            
            message.append(String.format("**è©³ç´°è³‡è¨Š**: [æŸ¥çœ‹å®Œæ•´å ±å‘Š](%s)\n", 
                getDetailUrl()));
            
            return message.toString();
        }
        
        public String generateEmailReport() {
            StringBuilder html = new StringBuilder();
            html.append("<html><body>");
            html.append(String.format("<h2>ç¼ºé™·å ±å‘Š: %s</h2>", title));
            html.append(String.format("<p><strong>åš´é‡ç¨‹åº¦:</strong> %s</p>", severity));
            html.append(String.format("<p><strong>å„ªå…ˆç¨‹åº¦:</strong> %s</p>", priority));
            html.append(String.format("<p><strong>ç’°å¢ƒ:</strong> %s</p>", environment));
            
            html.append("<h3>é‡ç¾æ­¥é©Ÿ:</h3><ol>");
            stepsToReproduce.forEach(step -> 
                html.append(String.format("<li>%s</li>", step)));
            html.append("</ol>");
            
            html.append(String.format("<p><strong>é æœŸè¡Œç‚º:</strong> %s</p>", 
                expectedBehavior));
            html.append(String.format("<p><strong>å¯¦éš›è¡Œç‚º:</strong> %s</p>", 
                actualBehavior));
            
            html.append("</body></html>");
            return html.toString();
        }
    }
}
```

#### æ¸¬è©¦çµæœå„€è¡¨æ¿

```java
@RestController
@RequestMapping("/api/dashboard")
public class TestDashboardController {
    
    @Autowired
    private TestMetricsService metricsService;
    
    @GetMapping("/quality-overview")
    public QualityOverview getQualityOverview() {
        QualityOverview overview = new QualityOverview();
        
        // æ¸¬è©¦åŸ·è¡Œçµ±è¨ˆ
        TestExecutionStats stats = metricsService.getLatestExecutionStats();
        overview.setTestExecutionStats(stats);
        
        // ç¨‹å¼ç¢¼è¦†è“‹ç‡è¶¨å‹¢
        List<CoverageDataPoint> coverageTrend = 
            metricsService.getCoverageTrend(30); // æœ€è¿‘30å¤©
        overview.setCoverageTrend(coverageTrend);
        
        // ç¼ºé™·è¶¨å‹¢
        List<DefectDataPoint> defectTrend = 
            metricsService.getDefectTrend(30);
        overview.setDefectTrend(defectTrend);
        
        // å“è³ªæŒ‡æ¨™
        QualityMetrics metrics = metricsService.calculateQualityMetrics();
        overview.setQualityMetrics(metrics);
        
        return overview;
    }
    
    @GetMapping("/test-health")
    public TestHealthStatus getTestHealth() {
        TestHealthStatus health = new TestHealthStatus();
        
        // æª¢æŸ¥æ¸¬è©¦ç’°å¢ƒç‹€æ…‹
        boolean environmentHealthy = metricsService.checkEnvironmentHealth();
        health.setEnvironmentHealthy(environmentHealthy);
        
        // æª¢æŸ¥è‡ªå‹•åŒ–æ¸¬è©¦ç©©å®šæ€§
        double testStability = metricsService.calculateTestStability();
        health.setTestStability(testStability);
        
        // æª¢æŸ¥æ¸¬è©¦è³‡æ–™ä¸€è‡´æ€§
        boolean dataConsistent = metricsService.checkTestDataConsistency();
        health.setDataConsistent(dataConsistent);
        
        return health;
    }
}
```

### 17.3 çŸ¥è­˜åˆ†äº«èˆ‡åŸ¹è¨“

#### æ¸¬è©¦çŸ¥è­˜åº«å»ºç«‹

```markdown
ğŸ“š æ¸¬è©¦çŸ¥è­˜åº«æ¶æ§‹

ã€æ¸¬è©¦æ¨™æº–èˆ‡æµç¨‹ã€‘
- æ¸¬è©¦ç­–ç•¥æ–‡ä»¶
- æ¸¬è©¦æµç¨‹æŒ‡å¼•
- å“è³ªæ¨™æº–å®šç¾©
- å·¥å…·ä½¿ç”¨æ‰‹å†Š

ã€æœ€ä½³å¯¦å‹™æ¡ˆä¾‹ã€‘
- æˆåŠŸçš„æ¸¬è©¦å¯¦æ–½æ¡ˆä¾‹
- å¸¸è¦‹å•é¡Œè§£æ±ºæ–¹æ¡ˆ
- æ•ˆèƒ½å„ªåŒ–æŠ€å·§
- å®‰å…¨æ¸¬è©¦ç¶“é©—

ã€åŸ¹è¨“è³‡æºã€‘
- æ–°äººå…¥è·åŸ¹è¨“è¨ˆç•«
- é€²éšæŠ€èƒ½åŸ¹è¨“èª²ç¨‹
- å¤–éƒ¨åŸ¹è¨“è³‡æºé€£çµ
- èªè­‰è€ƒè©¦æŒ‡å¼•

ã€æŠ€è¡“æ–‡ä»¶ã€‘
- API æ¸¬è©¦æ–‡ä»¶
- è‡ªå‹•åŒ–è…³æœ¬ç¯„æœ¬
- æ¸¬è©¦ç’°å¢ƒé…ç½®æŒ‡å¼•
- æ•…éšœæ’é™¤æŒ‡å—
```

#### åœ˜éšŠæŠ€èƒ½ç™¼å±•è¨ˆç•«

```java
public class SkillDevelopmentPlan {
    
    public enum SkillLevel {
        BEGINNER("åˆç´š", 0),
        INTERMEDIATE("ä¸­ç´š", 1),
        ADVANCED("é«˜ç´š", 2),
        EXPERT("å°ˆå®¶", 3);
        
        private final String description;
        private final int level;
        
        SkillLevel(String description, int level) {
            this.description = description;
            this.level = level;
        }
    }
    
    public static class SkillAssessment {
        private String employeeName;
        private Map<String, SkillLevel> currentSkills;
        private Map<String, SkillLevel> targetSkills;
        private LocalDate assessmentDate;
        
        public List<TrainingRecommendation> generateTrainingPlan() {
            List<TrainingRecommendation> recommendations = new ArrayList<>();
            
            targetSkills.forEach((skill, targetLevel) -> {
                SkillLevel currentLevel = currentSkills.getOrDefault(skill, 
                    SkillLevel.BEGINNER);
                
                if (targetLevel.level > currentLevel.level) {
                    TrainingRecommendation recommendation = new TrainingRecommendation();
                    recommendation.setSkillArea(skill);
                    recommendation.setCurrentLevel(currentLevel);
                    recommendation.setTargetLevel(targetLevel);
                    recommendation.setRecommendedActions(
                        getTrainingActions(skill, currentLevel, targetLevel));
                    
                    recommendations.add(recommendation);
                }
            });
            
            return recommendations;
        }
        
        private List<String> getTrainingActions(String skill, SkillLevel current, 
                                              SkillLevel target) {
            // æ ¹æ“šæŠ€èƒ½å’Œç­‰ç´šå·®è·æ¨è–¦åŸ¹è¨“è¡Œå‹•
            List<String> actions = new ArrayList<>();
            
            if (skill.equals("è‡ªå‹•åŒ–æ¸¬è©¦")) {
                if (current == SkillLevel.BEGINNER) {
                    actions.add("å®Œæˆ Selenium åŸºç¤èª²ç¨‹");
                    actions.add("å¯¦ä½œè‡³å°‘ 5 å€‹è‡ªå‹•åŒ–æ¸¬è©¦æ¡ˆä¾‹");
                }
                if (target.level >= SkillLevel.INTERMEDIATE.level) {
                    actions.add("å­¸ç¿’ API è‡ªå‹•åŒ–æ¸¬è©¦");
                    actions.add("æŒæ¡ CI/CD æ•´åˆ");
                }
                if (target.level >= SkillLevel.ADVANCED.level) {
                    actions.add("è¨­è¨ˆæ¸¬è©¦æ¡†æ¶");
                    actions.add("æŒ‡å°åˆç´šåœ˜éšŠæˆå“¡");
                }
            }
            
            return actions;
        }
    }
}
```

### 17.4 æŒçºŒæ”¹é€²æ–‡åŒ–

#### å›é¡§æœƒè­°èˆ‡æ”¹é€²è¡Œå‹•

```markdown
ğŸ”„ æ¸¬è©¦æµç¨‹æŒçºŒæ”¹é€²

ã€Sprint å›é¡§é‡é»ã€‘
1. æ¸¬è©¦æ•ˆç‡åˆ†æ
   - æ¸¬è©¦åŸ·è¡Œæ™‚é–“è¶¨å‹¢
   - è‡ªå‹•åŒ–è¦†è“‹ç‡è®ŠåŒ–
   - ç¼ºé™·ç™¼ç¾æ•ˆç‡

2. å“è³ªæŒ‡æ¨™æª¢è¨
   - é€ƒé€¸ç¼ºé™·åˆ†æ
   - å®¢æˆ¶æ»¿æ„åº¦å›é¥‹
   - ç³»çµ±ç©©å®šæ€§è©•ä¼°

3. æµç¨‹å„ªåŒ–æ©Ÿæœƒ
   - ç“¶é ¸è­˜åˆ¥èˆ‡æ”¹å–„
   - å·¥å…·æ•ˆèƒ½å„ªåŒ–
   - åœ˜éšŠå”ä½œæ”¹é€²

ã€æ”¹é€²è¡Œå‹•è¿½è¹¤ã€‘
- è¨­å®šå…·é«”å¯è¡¡é‡ç›®æ¨™
- åˆ†é…è²¬ä»»äººå’Œæ™‚ç¨‹
- å®šæœŸæª¢æŸ¥é€²åº¦
- è©•ä¼°æ”¹é€²æ•ˆæœ
```

#### å“è³ªæ–‡åŒ–å»ºç«‹

```java
@Component
public class QualityCultureBuilder {
    
    public class QualityMetricsTracker {
        
        @Scheduled(cron = "0 0 9 * * MON") // æ¯é€±ä¸€æ—©ä¸Š9é»
        public void sendWeeklyQualityReport() {
            QualityReport report = generateWeeklyReport();
            
            String message = buildQualityMessage(report);
            
            // ç™¼é€åˆ°åœ˜éšŠé »é“
            slackService.sendToChannel("#team-quality", message);
            
            // å¦‚æœå“è³ªæŒ‡æ¨™ä¸‹é™ï¼Œç™¼é€è­¦å‘Š
            if (report.hasQualityDegradation()) {
                slackService.sendToChannel("#quality-alerts", 
                    "âš ï¸ å“è³ªæŒ‡æ¨™å‡ºç¾ä¸‹é™è¶¨å‹¢ï¼Œè«‹åœ˜éšŠæ³¨æ„ï¼");
            }
        }
        
        private String buildQualityMessage(QualityReport report) {
            StringBuilder message = new StringBuilder();
            message.append("ğŸ“Š **é€±åº¦å“è³ªå ±å‘Š**\n\n");
            
            message.append(String.format("ğŸ¯ æ¸¬è©¦è¦†è“‹ç‡: %.1f%% (%s%.1f%%)\n",
                report.getCurrentCoverage(),
                report.getCoverageChange() >= 0 ? "+" : "",
                report.getCoverageChange()));
            
            message.append(String.format("ğŸ› æ–°å¢ç¼ºé™·: %d (%s%d)\n",
                report.getNewDefects(),
                report.getDefectChange() >= 0 ? "+" : "",
                report.getDefectChange()));
            
            message.append(String.format("âœ… æ¸¬è©¦é€šéç‡: %.1f%%\n",
                report.getTestPassRate()));
            
            message.append(String.format("âš¡ å¹³å‡ä¿®å¾©æ™‚é–“: %.1f å°æ™‚\n",
                report.getAverageFixTime()));
            
            // åŠ å…¥æ­£é¢é¼“å‹µæˆ–æ”¹é€²å»ºè­°
            if (report.isImproving()) {
                message.append("\nğŸ‰ å“è³ªæŒ‡æ¨™æŒçºŒæ”¹å–„ï¼Œåœ˜éšŠè¡¨ç¾å„ªç§€ï¼");
            } else {
                message.append("\nğŸ’ª è®“æˆ‘å€‘ä¸€èµ·åŠªåŠ›æå‡å“è³ªæŒ‡æ¨™ï¼");
            }
            
            return message.toString();
        }
    }
    
    @EventListener
    public void handleQualityMilestone(QualityMilestoneEvent event) {
        String achievement = "";
        
        switch (event.getMilestoneType()) {
            case ZERO_PRODUCTION_DEFECTS:
                achievement = "ğŸ† æ­å–œåœ˜éšŠé€£çºŒ " + event.getDays() + 
                             " å¤©é›¶ç”Ÿç”¢ç¼ºé™·ï¼";
                break;
            case HIGH_COVERAGE_ACHIEVED:
                achievement = "ğŸ¯ ç¨‹å¼ç¢¼è¦†è“‹ç‡é”åˆ° " + event.getPercentage() + 
                             "%ï¼Œå¤ªæ£’äº†ï¼";
                break;
            case FAST_BUG_RESOLUTION:
                achievement = "âš¡ ç¼ºé™·å¹³å‡ä¿®å¾©æ™‚é–“é™åˆ° " + event.getHours() + 
                             " å°æ™‚å…§ï¼Œæ•ˆç‡æ¥µä½³ï¼";
                break;
        }
        
        if (!achievement.isEmpty()) {
            slackService.sendToChannel("#team-general", achievement);
            // å¯ä»¥è€ƒæ…®å¯¦éš›çš„çå‹µæ©Ÿåˆ¶ï¼Œå¦‚åœ˜éšŠèšé¤ç­‰
        }
    }
}
```

---

*æœ¬æ–‡ä»¶æœ€å¾Œæ›´æ–°ï¼š2025å¹´8æœˆ29æ—¥*  
*å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«å°ˆæ¡ˆåœ˜éšŠ*
